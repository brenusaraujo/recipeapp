{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Context from '../context/Context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const {\n    userEmail,\n    setUserEmail,\n    userSenha,\n    setUserSenha\n  } = useContext(Context);\n  const history = useHistory();\n\n  function validarEmail(email) {\n    const regexE = /^[a-z0-9.]+@[a-z0-9]+\\.[a-z]+(\\.[a-z]+)?$/i;\n    return setUserEmail({\n      user: {\n        email,\n        isValid: regexE.test(email)\n      }\n    });\n  }\n\n  function validarSenha(senha) {\n    const MIN_CARACTERS = 6; // const regexS = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[$*&@#])[0-9a-zA-Z]{6,}$/i;\n\n    return setUserSenha({\n      senha: {\n        isValid: senha.length > MIN_CARACTERS\n      }\n    });\n  }\n\n  function handleSendLogin() {\n    const sendUser = {\n      email: userEmail.user.email\n    };\n    const mealsToken = '1';\n    const cocktailsToken = '1';\n    localStorage.setItem('user', JSON.stringify(sendUser));\n    localStorage.setItem('mealsToken', mealsToken);\n    localStorage.setItem('cocktailsToken', cocktailsToken);\n    history.push('/foods');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        \"data-testid\": \"email-input\",\n        value: userEmail.email,\n        onChange: ev => validarEmail(ev.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        \"data-testid\": \"password-input\",\n        onChange: ev => validarSenha(ev.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"login-submit-btn\",\n      disabled: !(userEmail.user.isValid && userSenha.senha.isValid),\n      onClick: handleSendLogin,\n      children: \"Enter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"JmzQ7yawEpOkfvc8ekCI7HMX7m8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useHistory","Context","Login","userEmail","setUserEmail","userSenha","setUserSenha","history","validarEmail","email","regexE","user","isValid","test","validarSenha","senha","MIN_CARACTERS","length","handleSendLogin","sendUser","mealsToken","cocktailsToken","localStorage","setItem","JSON","stringify","push","ev","target","value"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/Login.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Context from '../context/Context';\n\nexport default function Login() {\n  const { userEmail, setUserEmail, userSenha, setUserSenha } = useContext(Context);\n  const history = useHistory();\n\n  function validarEmail(email) {\n    const regexE = /^[a-z0-9.]+@[a-z0-9]+\\.[a-z]+(\\.[a-z]+)?$/i;\n    return setUserEmail({ user: { email, isValid: regexE.test(email) } });\n  }\n\n  function validarSenha(senha) {\n    const MIN_CARACTERS = 6;\n    // const regexS = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[$*&@#])[0-9a-zA-Z]{6,}$/i;\n    return setUserSenha({ senha: { isValid: senha.length > MIN_CARACTERS } });\n  }\n\n  function handleSendLogin() {\n    const sendUser = {\n      email: userEmail.user.email,\n    };\n    const mealsToken = '1';\n    const cocktailsToken = '1';\n\n    localStorage.setItem('user', JSON.stringify(sendUser));\n    localStorage.setItem('mealsToken', mealsToken);\n    localStorage.setItem('cocktailsToken', cocktailsToken);\n    history.push('/foods');\n  }\n\n  return (\n    <div>\n      <form>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          data-testid=\"email-input\"\n          value={ userEmail.email }\n          onChange={ (ev) => validarEmail(ev.target.value) }\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          data-testid=\"password-input\"\n          onChange={ (ev) => validarSenha(ev.target.value) }\n        />\n      </form>\n      <button\n        type=\"button\"\n        data-testid=\"login-submit-btn\"\n        disabled={ !(userEmail.user.isValid && userSenha.senha.isValid) }\n        onClick={ handleSendLogin }\n      >\n        Enter\n      </button>\n    </div>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,OAAP,MAAoB,oBAApB;;AAEA,eAAe,SAASC,KAAT,GAAiB;EAAA;;EAC9B,MAAM;IAAEC,SAAF;IAAaC,YAAb;IAA2BC,SAA3B;IAAsCC;EAAtC,IAAuDP,UAAU,CAACE,OAAD,CAAvE;EACA,MAAMM,OAAO,GAAGP,UAAU,EAA1B;;EAEA,SAASQ,YAAT,CAAsBC,KAAtB,EAA6B;IAC3B,MAAMC,MAAM,GAAG,4CAAf;IACA,OAAON,YAAY,CAAC;MAAEO,IAAI,EAAE;QAAEF,KAAF;QAASG,OAAO,EAAEF,MAAM,CAACG,IAAP,CAAYJ,KAAZ;MAAlB;IAAR,CAAD,CAAnB;EACD;;EAED,SAASK,YAAT,CAAsBC,KAAtB,EAA6B;IAC3B,MAAMC,aAAa,GAAG,CAAtB,CAD2B,CAE3B;;IACA,OAAOV,YAAY,CAAC;MAAES,KAAK,EAAE;QAAEH,OAAO,EAAEG,KAAK,CAACE,MAAN,GAAeD;MAA1B;IAAT,CAAD,CAAnB;EACD;;EAED,SAASE,eAAT,GAA2B;IACzB,MAAMC,QAAQ,GAAG;MACfV,KAAK,EAAEN,SAAS,CAACQ,IAAV,CAAeF;IADP,CAAjB;IAGA,MAAMW,UAAU,GAAG,GAAnB;IACA,MAAMC,cAAc,GAAG,GAAvB;IAEAC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAf,CAA7B;IACAG,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCH,UAAnC;IACAE,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCF,cAAvC;IACAd,OAAO,CAACmB,IAAR,CAAa,QAAb;EACD;;EAED,oBACE;IAAA,wBACE;MAAA,wBACE;QACE,IAAI,EAAC,OADP;QAEE,WAAW,EAAC,OAFd;QAGE,eAAY,aAHd;QAIE,KAAK,EAAGvB,SAAS,CAACM,KAJpB;QAKE,QAAQ,EAAIkB,EAAD,IAAQnB,YAAY,CAACmB,EAAE,CAACC,MAAH,CAAUC,KAAX;MALjC;QAAA;QAAA;QAAA;MAAA,QADF,eAQE;QACE,IAAI,EAAC,UADP;QAEE,WAAW,EAAC,UAFd;QAGE,eAAY,gBAHd;QAIE,QAAQ,EAAIF,EAAD,IAAQb,YAAY,CAACa,EAAE,CAACC,MAAH,CAAUC,KAAX;MAJjC;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAgBE;MACE,IAAI,EAAC,QADP;MAEE,eAAY,kBAFd;MAGE,QAAQ,EAAG,EAAE1B,SAAS,CAACQ,IAAV,CAAeC,OAAf,IAA0BP,SAAS,CAACU,KAAV,CAAgBH,OAA5C,CAHb;MAIE,OAAO,EAAGM,eAJZ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAhBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA2BD;;GAvDuBhB,K;UAENF,U;;;KAFME,K"},"metadata":{},"sourceType":"module"}