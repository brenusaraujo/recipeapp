{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/Projetos Trybe/sd-022-b-project-recipes-app/src/components/SearchBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport AppContext from '../context/AppContext';\nimport { fetchIngredients, fetchNames, fetchFirstLetter } from '../services/foodAPI';\nimport { fetchDrinkIngredients, fetchDrinkNames, fetchDrinkFirstLetter } from '../services/drinkAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchBar() {\n  _s();\n\n  const history = useHistory();\n  const [searchId, setSearchId] = useState('');\n  const {\n    searchInput,\n    title,\n    setRenderCards\n  } = useContext(AppContext);\n  const [searchResult, setSearchResult] = useState([]);\n  useEffect(() => {\n    if (title === 'Foods') {\n      if (searchResult === null) {\n        global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n      } else if (searchResult.length === 1) {\n        history.push(`/foods/${searchResult[0].idMeal}`);\n      } else {\n        setRenderCards(searchResult);\n      }\n    }\n  }, [searchResult]);\n  useEffect(() => {\n    if (title === 'Drinks') {\n      if (searchResult === null) {\n        global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n      } else if (searchResult.length === 1) {\n        history.push(`/drinks/${searchResult[0].idDrink}`);\n      } else {\n        setRenderCards(searchResult);\n      }\n    }\n  }, [searchResult]);\n\n  const handleFood = async () => {\n    if (searchId === 'ingredient') {\n      const isFetch = await fetchIngredients(searchInput);\n      return setSearchResult(isFetch.meals);\n    }\n\n    if (searchId === 'name') {\n      const isFetch = await fetchNames(searchInput);\n      return setSearchResult(isFetch.meals);\n    }\n\n    if (searchId === 'first-letter') {\n      if (searchInput.length > 1) {\n        global.alert('Your search must have only 1 (one) character');\n      }\n\n      const isFetch = await fetchFirstLetter(searchInput);\n      return setSearchResult(isFetch.meals);\n    }\n  };\n\n  const handleDrink = async () => {\n    if (searchId === 'ingredient') {\n      const isFetch = await fetchDrinkIngredients(searchInput);\n      return setSearchResult(isFetch.drinks);\n    }\n\n    if (searchId === 'name') {\n      const isFetch = await fetchDrinkNames(searchInput);\n      return setSearchResult(isFetch.drinks);\n    }\n\n    if (searchId === 'first-letter') {\n      if (searchInput.length > 1) {\n        global.alert('Your search must have only 1 (one) character');\n      }\n\n      const isFetch = await fetchDrinkFirstLetter(searchInput);\n      return setSearchResult(isFetch.drinks);\n    }\n  };\n\n  const handleChange = _ref => {\n    let {\n      target\n    } = _ref;\n    setSearchId(target.id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"search-radio\",\n      children: [\"Ingredient\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"search-radio\",\n        id: \"ingredient\",\n        \"data-testid\": \"ingredient-search-radio\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"search-radio\",\n      children: [\"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"search-radio\",\n        id: \"name\",\n        onChange: handleChange,\n        \"data-testid\": \"name-search-radio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"search-radio\",\n      children: [\"First letter\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"search-radio\",\n        onChange: handleChange,\n        id: \"first-letter\",\n        \"data-testid\": \"first-letter-search-radio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"exec-search-btn\",\n      onClick: title === 'Foods' ? handleFood : handleDrink,\n      children: \"Buscar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchBar, \"nBFwoioGeAzhJI5+8uAm4GvqA08=\", false, function () {\n  return [useHistory];\n});\n\n_c = SearchBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useHistory","AppContext","fetchIngredients","fetchNames","fetchFirstLetter","fetchDrinkIngredients","fetchDrinkNames","fetchDrinkFirstLetter","SearchBar","history","searchId","setSearchId","searchInput","title","setRenderCards","searchResult","setSearchResult","global","alert","length","push","idMeal","idDrink","handleFood","isFetch","meals","handleDrink","drinks","handleChange","target","id"],"sources":["/Users/brenoaraujo/Projetos Trybe/sd-022-b-project-recipes-app/src/components/SearchBar.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport AppContext from '../context/AppContext';\nimport {\n  fetchIngredients,\n  fetchNames,\n  fetchFirstLetter,\n} from '../services/foodAPI';\n\nimport {\n  fetchDrinkIngredients,\n  fetchDrinkNames,\n  fetchDrinkFirstLetter,\n} from '../services/drinkAPI';\n\nexport default function SearchBar() {\n  const history = useHistory();\n  const [searchId, setSearchId] = useState('');\n  const { searchInput, title, setRenderCards } = useContext(AppContext);\n  const [searchResult, setSearchResult] = useState([]);\n\n  useEffect(() => {\n    if (title === 'Foods') {\n      if (searchResult === null) {\n        global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n      } else if (searchResult.length === 1) {\n        history.push(`/foods/${searchResult[0].idMeal}`);\n      } else {\n        setRenderCards(searchResult);\n      }\n    }\n  }, [searchResult]);\n\n  useEffect(() => {\n    if (title === 'Drinks') {\n      if (searchResult === null) {\n        global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n      } else if (searchResult.length === 1) {\n        history.push(`/drinks/${searchResult[0].idDrink}`);\n      } else {\n        setRenderCards(searchResult);\n      }\n    }\n  }, [searchResult]);\n\n  const handleFood = async () => {\n    if (searchId === 'ingredient') {\n      const isFetch = await fetchIngredients(searchInput);\n      return setSearchResult(isFetch.meals);\n    } if (searchId === 'name') {\n      const isFetch = await fetchNames(searchInput);\n      return setSearchResult(isFetch.meals);\n    } if (searchId === 'first-letter') {\n      if (searchInput.length > 1) {\n        global.alert('Your search must have only 1 (one) character');\n      }\n      const isFetch = await fetchFirstLetter(searchInput);\n      return setSearchResult(isFetch.meals);\n    }\n  };\n\n  const handleDrink = async () => {\n    if (searchId === 'ingredient') {\n      const isFetch = await fetchDrinkIngredients(searchInput);\n      return setSearchResult(isFetch.drinks);\n    } if (searchId === 'name') {\n      const isFetch = await fetchDrinkNames(searchInput);\n      return setSearchResult(isFetch.drinks);\n    } if (searchId === 'first-letter') {\n      if (searchInput.length > 1) {\n        global.alert('Your search must have only 1 (one) character');\n      }\n      const isFetch = await fetchDrinkFirstLetter(searchInput);\n      return setSearchResult(isFetch.drinks);\n    }\n  };\n\n  const handleChange = ({ target }) => {\n    setSearchId(target.id);\n  };\n\n  return (\n    <div>\n      <label htmlFor=\"search-radio\">\n        Ingredient\n        <input\n          type=\"radio\"\n          name=\"search-radio\"\n          id=\"ingredient\"\n          data-testid=\"ingredient-search-radio\"\n          onChange={ handleChange }\n        />\n      </label>\n      <label htmlFor=\"search-radio\">\n        Name\n        <input\n          type=\"radio\"\n          name=\"search-radio\"\n          id=\"name\"\n          onChange={ handleChange }\n          data-testid=\"name-search-radio\"\n        />\n      </label>\n      <label htmlFor=\"search-radio\">\n        First letter\n        <input\n          type=\"radio\"\n          name=\"search-radio\"\n          onChange={ handleChange }\n          id=\"first-letter\"\n          data-testid=\"first-letter-search-radio\"\n        />\n      </label>\n      <button\n        type=\"button\"\n        data-testid=\"exec-search-btn\"\n        onClick={ title === 'Foods' ? handleFood : handleDrink }\n      >\n        Buscar\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}