{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/Projetos Trybe/sd-022-b-project-recipes-app/src/pages/DoneRecipes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport AppContext from '../context/AppContext';\nimport Header from '../components/Header';\nimport FilterButtons from '../components/FilterButton';\nimport shareIcon from '../images/shareIcon.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DoneRecipes() {\n  _s();\n\n  const {\n    setTitle\n  } = useContext(AppContext);\n  const [recipes, setRecipes] = useState([]);\n  const [list, setList] = useState([]);\n  const [share, setShare] = useState('');\n  useEffect(() => {\n    const storage = localStorage.getItem('doneRecipes');\n    const data = storage ? JSON.parse(storage) : [];\n    setRecipes(data);\n    setList(data);\n  }, []);\n\n  const handleClick = _ref => {\n    let {\n      type,\n      id,\n      name\n    } = _ref;\n    copy(`http://localhost:3000/${type}s/${id}`);\n    setShare(name);\n  };\n\n  const filterRecipes = param => {\n    const result = recipes.filter(_ref2 => {\n      let {\n        type\n      } = _ref2;\n      return type.includes(param);\n    });\n    setList(result);\n  };\n\n  useEffect(() => {\n    document.title = 'Done Recipes';\n    setTitle(document.title); // ?\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FilterButtons, {\n      filterRecipes: filterRecipes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), list[0] && list.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/${item.type}s/${item.id}`,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          \"data-testid\": `${index}-horizontal-image`,\n          src: item.image,\n          alt: item.name,\n          style: {\n            width: '150px',\n            padding: '0 10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": `${index}-horizontal-top-text`,\n          children: item.type === 'food' ? `${item.nationality} - ${item.category}` : `${item.alcoholicOrNot}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": `${index}-horizontal-name`,\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": `${index}-horizontal-done-date`,\n        children: item.doneDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => handleClick(item),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: shareIcon,\n          alt: \"\\xCDcone de compartilhamento\",\n          \"data-testid\": `${index}-horizontal-share-btn`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), share === item.name && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Link copied!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 36\n      }, this), item.tags.map((tag, i2) => /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": `${index}-${tag}-horizontal-tag`,\n        children: tag\n      }, i2, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this))]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DoneRecipes, \"VRGGZWRj46rHI21N00zEpsaKnno=\");\n\n_c = DoneRecipes;\nexport default DoneRecipes;\n\nvar _c;\n\n$RefreshReg$(_c, \"DoneRecipes\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","copy","AppContext","Header","FilterButtons","shareIcon","DoneRecipes","setTitle","recipes","setRecipes","list","setList","share","setShare","storage","localStorage","getItem","data","JSON","parse","handleClick","type","id","name","filterRecipes","param","result","filter","includes","document","title","map","item","index","image","width","padding","nationality","category","alcoholicOrNot","doneDate","tags","tag","i2"],"sources":["/Users/brenoaraujo/Projetos Trybe/sd-022-b-project-recipes-app/src/pages/DoneRecipes.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport AppContext from '../context/AppContext';\nimport Header from '../components/Header';\nimport FilterButtons from '../components/FilterButton';\nimport shareIcon from '../images/shareIcon.svg';\n\nfunction DoneRecipes() {\n  const {\n    setTitle,\n  } = useContext(AppContext);\n  const [recipes, setRecipes] = useState([]);\n  const [list, setList] = useState([]);\n  const [share, setShare] = useState('');\n\n  useEffect(() => {\n    const storage = localStorage.getItem('doneRecipes');\n    const data = storage ? JSON.parse(storage) : [];\n    setRecipes(data);\n    setList(data);\n  }, []);\n\n  const handleClick = ({ type, id, name }) => {\n    copy(`http://localhost:3000/${type}s/${id}`);\n    setShare(name);\n  };\n\n  const filterRecipes = (param) => {\n    const result = recipes.filter(({ type }) => type.includes(param));\n    setList(result);\n  };\n\n  useEffect(() => {\n    document.title = 'Done Recipes';\n    setTitle(document.title); // ?\n  }, []);\n  return (\n    <div>\n      <Header />\n      <FilterButtons filterRecipes={ filterRecipes } />\n      { list[0] && list.map((item, index) => (\n        <div key={ index }>\n          <Link to={ `/${item.type}s/${item.id}` }>\n            <img\n              data-testid={ `${index}-horizontal-image` }\n              src={ item.image }\n              alt={ item.name }\n              style={ { width: '150px', padding: '0 10px' } }\n            />\n            <p\n              data-testid={ `${index}-horizontal-top-text` }\n            >\n              { item.type === 'food'\n                ? `${item.nationality} - ${item.category}`\n                : `${item.alcoholicOrNot}` }\n            </p>\n            <p data-testid={ `${index}-horizontal-name` }>{ item.name }</p>\n          </Link>\n          <p data-testid={ `${index}-horizontal-done-date` }>{ item.doneDate }</p>\n          <button\n            type=\"button\"\n            onClick={ () => handleClick(item) }\n          >\n            <img\n              src={ shareIcon }\n              alt=\"Ícone de compartilhamento\"\n              data-testid={ `${index}-horizontal-share-btn` }\n            />\n          </button>\n          { share === item.name && <span>Link copied!</span> }\n          { item.tags.map((tag, i2) => (\n            <p\n              key={ i2 }\n              data-testid={ `${index}-${tag}-horizontal-tag` }\n            >\n              { tag }\n            </p>\n          )) }\n        </div>\n      )) }\n    </div>\n  );\n}\n\nexport default DoneRecipes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}