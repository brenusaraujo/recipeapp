{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/RecipeDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport '../css/RecipeDetails.css';\nimport Context from '../context/Context';\nimport { MealsDetails, DrinkDetails, StartRecipeButton, FavoriteAndShareButtons, Slider } from '../components/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RecipeDetails(_ref) {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const {\n    requestData,\n    recipeDetails: {\n      recomendations\n    }\n  } = useContext(Context);\n  const {\n    location: {\n      pathname\n    }\n  } = history;\n  const id = pathname.split('/')[2];\n  const type = pathname.split('/')[1].split('s')[0];\n  const doneRecipes = JSON.parse(localStorage.getItem('doneRecipes')) || [];\n\n  const handleStartRecipe = () => {\n    if (type === 'food') {\n      history.push(`/foods/${id}/in-progress`);\n    } else {\n      history.push(`/drinks/${id}/in-progress`);\n    }\n  };\n\n  useEffect(() => {\n    requestData(type, id);\n  }, [id, type]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [type === 'food' ? /*#__PURE__*/_jsxDEV(MealsDetails, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(DrinkDetails, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(FavoriteAndShareButtons, {\n      type: type,\n      id: id,\n      testIdShare: \"share-btn\",\n      testIdFavorite: \"favorite-btn\",\n      replace: \"in-progress\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: recomendations && /*#__PURE__*/_jsxDEV(Slider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), !doneRecipes.some(recipe => Number(recipe.id) === Number(id)) && /*#__PURE__*/_jsxDEV(StartRecipeButton, {\n      handleStartRecipe: handleStartRecipe\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 12\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RecipeDetails, \"czB4tK2nn+4xN2GH5HyBLnZjPmk=\");\n\n_c = RecipeDetails;\nRecipeDetails.propTypes = {\n  history: PropTypes.node\n}.isRequired;\nexport default RecipeDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeDetails\");","map":{"version":3,"names":["React","useEffect","useContext","PropTypes","Context","MealsDetails","DrinkDetails","StartRecipeButton","FavoriteAndShareButtons","Slider","RecipeDetails","history","requestData","recipeDetails","recomendations","location","pathname","id","split","type","doneRecipes","JSON","parse","localStorage","getItem","handleStartRecipe","push","some","recipe","Number","propTypes","node","isRequired"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/RecipeDetails.js"],"sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport '../css/RecipeDetails.css';\nimport Context from '../context/Context';\nimport {\n  MealsDetails,\n  DrinkDetails,\n  StartRecipeButton,\n  FavoriteAndShareButtons,\n  Slider } from '../components/index';\n\nfunction RecipeDetails({ history }) {\n  const { requestData, recipeDetails: { recomendations } } = useContext(Context);\n\n  const { location: { pathname } } = history;\n  const id = pathname.split('/')[2];\n  const type = pathname.split('/')[1].split('s')[0];\n\n  const doneRecipes = JSON.parse(localStorage.getItem('doneRecipes')) || [];\n\n  const handleStartRecipe = () => {\n    if (type === 'food') {\n      history.push(`/foods/${id}/in-progress`);\n    } else {\n      history.push(`/drinks/${id}/in-progress`);\n    }\n  };\n\n  useEffect(() => {\n    requestData(type, id);\n  }, [id, type]);\n\n  return (\n    <div>\n      { type === 'food'\n        ? <MealsDetails />\n        : <DrinkDetails /> }\n      <FavoriteAndShareButtons\n        type={ type }\n        id={ id }\n        testIdShare=\"share-btn\"\n        testIdFavorite=\"favorite-btn\"\n        replace=\"in-progress\"\n      />\n      <div>\n        { recomendations && <Slider /> }\n      </div>\n\n      { !doneRecipes.some((recipe) => Number(recipe.id) === Number(id))\n        && <StartRecipeButton handleStartRecipe={ handleStartRecipe } /> }\n    </div>\n  );\n}\n\nRecipeDetails.propTypes = {\n  history: PropTypes.node,\n}.isRequired;\n\nexport default RecipeDetails;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAO,0BAAP;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SACEC,YADF,EAEEC,YAFF,EAGEC,iBAHF,EAIEC,uBAJF,EAKEC,MALF,QAKgB,qBALhB;;;AAOA,SAASC,aAAT,OAAoC;EAAA;;EAAA,IAAb;IAAEC;EAAF,CAAa;EAClC,MAAM;IAAEC,WAAF;IAAeC,aAAa,EAAE;MAAEC;IAAF;EAA9B,IAAqDZ,UAAU,CAACE,OAAD,CAArE;EAEA,MAAM;IAAEW,QAAQ,EAAE;MAAEC;IAAF;EAAZ,IAA6BL,OAAnC;EACA,MAAMM,EAAE,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAX;EACA,MAAMC,IAAI,GAAGH,QAAQ,CAACE,KAAT,CAAe,GAAf,EAAoB,CAApB,EAAuBA,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAb;EAEA,MAAME,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,KAAmD,EAAvE;;EAEA,MAAMC,iBAAiB,GAAG,MAAM;IAC9B,IAAIN,IAAI,KAAK,MAAb,EAAqB;MACnBR,OAAO,CAACe,IAAR,CAAc,UAAST,EAAG,cAA1B;IACD,CAFD,MAEO;MACLN,OAAO,CAACe,IAAR,CAAc,WAAUT,EAAG,cAA3B;IACD;EACF,CAND;;EAQAhB,SAAS,CAAC,MAAM;IACdW,WAAW,CAACO,IAAD,EAAOF,EAAP,CAAX;EACD,CAFQ,EAEN,CAACA,EAAD,EAAKE,IAAL,CAFM,CAAT;EAIA,oBACE;IAAA,WACIA,IAAI,KAAK,MAAT,gBACE,QAAC,YAAD;MAAA;MAAA;MAAA;IAAA,QADF,gBAEE,QAAC,YAAD;MAAA;MAAA;MAAA;IAAA,QAHN,eAIE,QAAC,uBAAD;MACE,IAAI,EAAGA,IADT;MAEE,EAAE,EAAGF,EAFP;MAGE,WAAW,EAAC,WAHd;MAIE,cAAc,EAAC,cAJjB;MAKE,OAAO,EAAC;IALV;MAAA;MAAA;MAAA;IAAA,QAJF,eAWE;MAAA,UACIH,cAAc,iBAAI,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA;IADtB;MAAA;MAAA;MAAA;IAAA,QAXF,EAeI,CAACM,WAAW,CAACO,IAAZ,CAAkBC,MAAD,IAAYC,MAAM,CAACD,MAAM,CAACX,EAAR,CAAN,KAAsBY,MAAM,CAACZ,EAAD,CAAzD,CAAD,iBACG,QAAC,iBAAD;MAAmB,iBAAiB,EAAGQ;IAAvC;MAAA;MAAA;MAAA;IAAA,QAhBP;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAoBD;;GAzCQf,a;;KAAAA,a;AA2CTA,aAAa,CAACoB,SAAd,GAA0B;EACxBnB,OAAO,EAAER,SAAS,CAAC4B;AADK,EAExBC,UAFF;AAIA,eAAetB,aAAf"},"metadata":{},"sourceType":"module"}