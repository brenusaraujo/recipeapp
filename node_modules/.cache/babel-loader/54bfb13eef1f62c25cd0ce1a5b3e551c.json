{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/Food.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport RecipesContext from '../context/RecipesContext';\nimport Card from '../components/Card';\nimport { requestFilteredFoods, requestFoodsOrDrinks } from '../services/fetchAPIs';\nimport FilterButtons from '../components/FilterButtons';\nimport '../css/MainPage.css';\nconst MAX_MAP_LENGTH = 12;\nfunction Food(_ref) {\n  let {\n    location: {\n      ingredient\n    }\n  } = _ref;\n  const [foods, setFoods] = useState([]);\n  const [renderFoods, setRenderFoods] = useState([]);\n  const {\n    filteredFood\n  } = useContext(RecipesContext);\n  useEffect(() => {\n    if (!ingredient) {\n      requestFoodsOrDrinks('themealdb').then(_ref2 => {\n        let {\n          meals\n        } = _ref2;\n        return setFoods(meals);\n      });\n    } else {\n      requestFilteredFoods(ingredient, 'ingredient').then(_ref3 => {\n        let {\n          meals\n        } = _ref3;\n        return setFoods(meals);\n      });\n    }\n  }, [ingredient]);\n  useEffect(() => {\n    const results = filteredFood.length > 0 ? filteredFood : foods;\n    setRenderFoods(results.slice(0, MAX_MAP_LENGTH));\n  }, [filteredFood, foods]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    name: \"Comidas\",\n    search: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FilterButtons, {\n    url: \"themealdb\",\n    type: \"meals\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"recipes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, renderFoods && renderFoods.map((food, index) => /*#__PURE__*/React.createElement(Card, {\n    id: \"idMeal\",\n    itemId: food.idMeal,\n    header: food.strMeal,\n    img: food.strMealThumb,\n    index: index,\n    key: food.idMeal,\n    testId: `${index}-recipe-card`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }));\n}\nFood.propTypes = {\n  location: PropTypes.shape({\n    ingredient: PropTypes.string\n  })\n};\nFood.defaultProps = {\n  location: {}\n};\nexport default Food;","map":{"version":3,"names":["React","useContext","useEffect","useState","PropTypes","Footer","Header","RecipesContext","Card","requestFilteredFoods","requestFoodsOrDrinks","FilterButtons","MAX_MAP_LENGTH","Food","location","ingredient","foods","setFoods","renderFoods","setRenderFoods","filteredFood","then","meals","results","length","slice","map","food","index","idMeal","strMeal","strMealThumb","propTypes","shape","string","defaultProps"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/Food.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport RecipesContext from '../context/RecipesContext';\nimport Card from '../components/Card';\nimport { requestFilteredFoods, requestFoodsOrDrinks } from '../services/fetchAPIs';\nimport FilterButtons from '../components/FilterButtons';\nimport '../css/MainPage.css';\n\nconst MAX_MAP_LENGTH = 12;\n\nfunction Food({ location: { ingredient } }) {\n  const [foods, setFoods] = useState([]);\n  const [renderFoods, setRenderFoods] = useState([]);\n  const { filteredFood } = useContext(RecipesContext);\n\n  useEffect(() => {\n    if (!ingredient) {\n      requestFoodsOrDrinks('themealdb')\n        .then(({ meals }) => setFoods(meals));\n    } else {\n      requestFilteredFoods(ingredient, 'ingredient')\n        .then(({ meals }) => setFoods(meals));\n    }\n  }, [ingredient]);\n\n  useEffect(() => {\n    const results = filteredFood.length > 0 ? filteredFood : foods;\n    setRenderFoods(results.slice(0, MAX_MAP_LENGTH));\n  }, [filteredFood, foods]);\n\n  return (\n    <div className=\"page-container\">\n      <Header name=\"Comidas\" search />\n      <FilterButtons url=\"themealdb\" type=\"meals\" />\n      <main className=\"recipes\">\n        { renderFoods && renderFoods.map((food, index) => (\n          <Card\n            id=\"idMeal\"\n            itemId={ food.idMeal }\n            header={ food.strMeal }\n            img={ food.strMealThumb }\n            index={ index }\n            key={ food.idMeal }\n            testId={ `${index}-recipe-card` }\n          />\n        )) }\n      </main>\n      <Footer />\n    </div>\n  );\n}\n\nFood.propTypes = {\n  location: PropTypes.shape({\n    ingredient: PropTypes.string,\n  }),\n};\n\nFood.defaultProps = {\n  location: {},\n};\n\nexport default Food;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}