{"ast":null,"code":"export const style = {\n  textDecorationLine: ''\n}; // export function handleCheckbox(estilo) {\n//   if (estilo.textDecorationLine === '') {\n//     estilo.textDecorationLine = 'line-through';\n//   } else {\n//     estilo.textDecorationLine = '';\n//   }\n// }\n\nexport const handleShare = (pathname, func) => {\n  const copyText = `http://localhost:3000${pathname}`;\n  navigator.clipboard.writeText(copyText);\n  func(true);\n};\nexport function saveOnStorage(key, value) {\n  localStorage.setItem(key, value);\n}\nexport function getFromStorage(key) {\n  const storage = localStorage.getItem(key);\n\n  if (storage !== null) {\n    return JSON.parse(storage);\n  }\n\n  return '';\n}\nexport function saveInProgressRecipes(type, id, ingredientsList) {\n  const category = type === 'foods' ? 'meals' : 'cocktails';\n  const recipe = {\n    [id]: ingredientsList\n  };\n  const prevStorage = localStorage.getItem('inProgressRecipes');\n\n  if (prevStorage === null) {\n    const storageBase = {\n      cocktails: {},\n      meals: {}\n    };\n    const objToSave = { ...storageBase,\n      [category]: recipe\n    };\n    localStorage.setItem('inProgressRecipes', JSON.stringify(objToSave));\n  } else {\n    const storageObj = JSON.parse(prevStorage);\n    const objToSave = { ...storageObj,\n      [category]: { ...storageObj[category],\n        ...recipe\n      }\n    };\n    localStorage.setItem('inProgressRecipes', JSON.stringify(objToSave));\n  }\n}\nexport function getInProgressRecipes() {\n  const prevStorage = localStorage.getItem('inProgressRecipes');\n\n  if (prevStorage === null) {\n    return {\n      cocktails: {},\n      meals: {}\n    };\n  }\n\n  return JSON.parse(prevStorage);\n} // export function removeInProgressRecipes(type, id) {\n//   const prevStorage = localStorage.getItem('inProgressRecipes');\n//   if (prevStorage === null) { return; }\n//   const category = type === 'food' ? 'meals' : 'cocktails';\n//   const prevStorageObj = JSON.parse(prevStorage);\n//   delete prevStorageObj[category][id];\n//   localStorage.setItem('inProgressRecipes', JSON.stringify(prevStorageObj));\n// }\n// para salvar, remover ou acessar receitas favoritas ignore o par창metro isDone.\n// para salvar, remover ou acessar receitas prontas passe true no par창metro isDone.\n\nexport function saveFavoriteOrDoneRecipes(recipeObject) {\n  let isDone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const key = isDone ? 'doneRecipes' : 'favoriteRecipes';\n  const prevStorage = localStorage.getItem(key);\n\n  if (prevStorage === null) {\n    localStorage.setItem(key, JSON.stringify([recipeObject]));\n  } else {\n    const prevFavorites = JSON.parse(prevStorage);\n    const newFavorites = [...prevFavorites, recipeObject];\n    localStorage.setItem(key, JSON.stringify(newFavorites));\n  }\n}\nexport function removeFavoriteOrDoneRecipes(id) {\n  let isDone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const key = isDone ? 'doneRecipes' : 'favoriteRecipes';\n  const prevStorage = localStorage.getItem(key);\n\n  if (prevStorage !== null) {\n    const prevFavorites = JSON.parse(prevStorage);\n    const newFavorites = prevFavorites.filter(favorite => favorite.id !== id);\n    localStorage.setItem(key, JSON.stringify(newFavorites));\n  }\n}\nexport function getFavoriteOrDoneRecipes() {\n  let isDone = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  const key = isDone ? 'doneRecipes' : 'favoriteRecipes';\n  const prevStorage = localStorage.getItem(key);\n\n  if (prevStorage === null) {\n    return [];\n  }\n\n  return JSON.parse(prevStorage);\n}\n\nfunction addFavorite(id, currRecipe) {\n  const LowerType = currRecipe.drinks ? 'drink' : 'food';\n  const recipeType = currRecipe.drinks ? 'drinks' : 'meals';\n  const nameKey = currRecipe.drinks ? 'strDrink' : 'strMeal';\n  const imageKey = currRecipe.drinks ? 'strDrinkThumb' : 'strMealThumb';\n  const recipe = currRecipe[recipeType][0];\n  const favorite = {\n    id,\n    type: LowerType,\n    nationality: recipe.strArea || '',\n    category: recipe.strCategory || '',\n    alcoholicOrNot: recipe.strAlcoholic || '',\n    name: recipe[nameKey],\n    image: recipe[imageKey]\n  };\n  saveFavoriteOrDoneRecipes(favorite);\n}\n\nexport default function handleFavorite(id, currRecipe, isFavorite, setIsFavorite) {\n  if (!isFavorite) {\n    addFavorite(id, currRecipe);\n  } else {\n    removeFavoriteOrDoneRecipes(id);\n  }\n\n  setIsFavorite(getFavoriteOrDoneRecipes().some(el => el.id === id));\n}\nexport const handleDoneRecipe = (history, setDoneRecipes, doneRecipes) => {\n  setDoneRecipes(prevState => [...prevState, 'teste']);\n  console.log(doneRecipes);\n  window.localStorage.setItem('doneRecipes', JSON.stringify(doneRecipes)); // history.push('/done-recipes');\n};","map":{"version":3,"names":["style","textDecorationLine","handleShare","pathname","func","copyText","navigator","clipboard","writeText","saveOnStorage","key","value","localStorage","setItem","getFromStorage","storage","getItem","JSON","parse","saveInProgressRecipes","type","id","ingredientsList","category","recipe","prevStorage","storageBase","cocktails","meals","objToSave","stringify","storageObj","getInProgressRecipes","saveFavoriteOrDoneRecipes","recipeObject","isDone","prevFavorites","newFavorites","removeFavoriteOrDoneRecipes","filter","favorite","getFavoriteOrDoneRecipes","addFavorite","currRecipe","LowerType","drinks","recipeType","nameKey","imageKey","nationality","strArea","strCategory","alcoholicOrNot","strAlcoholic","name","image","handleFavorite","isFavorite","setIsFavorite","some","el","handleDoneRecipe","history","setDoneRecipes","doneRecipes","prevState","console","log","window"],"sources":["/Users/brenoaraujo/Projetos Trybe/sd-022-b-project-recipes-app/src/services/helpers/functions/handles.js"],"sourcesContent":["export const style = {\n  textDecorationLine: '',\n};\n\n// export function handleCheckbox(estilo) {\n//   if (estilo.textDecorationLine === '') {\n//     estilo.textDecorationLine = 'line-through';\n//   } else {\n//     estilo.textDecorationLine = '';\n//   }\n// }\n\nexport const handleShare = (pathname, func) => {\n  const copyText = `http://localhost:3000${pathname}`;\n  navigator.clipboard.writeText(copyText);\n  func(true);\n};\n\nexport function saveOnStorage(key, value) {\n  localStorage.setItem(key, value);\n}\n\nexport function getFromStorage(key) {\n  const storage = localStorage.getItem(key);\n  if (storage !== null) {\n    return JSON.parse(storage);\n  }\n  return '';\n}\n\nexport function saveInProgressRecipes(type, id, ingredientsList) {\n  const category = type === 'foods' ? 'meals' : 'cocktails';\n  const recipe = { [id]: ingredientsList };\n  const prevStorage = localStorage.getItem('inProgressRecipes');\n\n  if (prevStorage === null) {\n    const storageBase = { cocktails: {}, meals: {} };\n    const objToSave = { ...storageBase, [category]: recipe };\n    localStorage.setItem('inProgressRecipes', JSON.stringify(objToSave));\n  } else {\n    const storageObj = JSON.parse(prevStorage);\n    const objToSave = {\n      ...storageObj,\n      [category]: {\n        ...storageObj[category],\n        ...recipe,\n      },\n    };\n    localStorage.setItem('inProgressRecipes', JSON.stringify(objToSave));\n  }\n}\n\nexport function getInProgressRecipes() {\n  const prevStorage = localStorage.getItem('inProgressRecipes');\n  if (prevStorage === null) { return { cocktails: {}, meals: {} }; }\n  return JSON.parse(prevStorage);\n}\n\n// export function removeInProgressRecipes(type, id) {\n//   const prevStorage = localStorage.getItem('inProgressRecipes');\n//   if (prevStorage === null) { return; }\n\n//   const category = type === 'food' ? 'meals' : 'cocktails';\n//   const prevStorageObj = JSON.parse(prevStorage);\n//   delete prevStorageObj[category][id];\n//   localStorage.setItem('inProgressRecipes', JSON.stringify(prevStorageObj));\n// }\n\n// para salvar, remover ou acessar receitas favoritas ignore o par창metro isDone.\n// para salvar, remover ou acessar receitas prontas passe true no par창metro isDone.\nexport function saveFavoriteOrDoneRecipes(recipeObject, isDone = false) {\n  const key = isDone ? 'doneRecipes' : 'favoriteRecipes';\n  const prevStorage = localStorage.getItem(key);\n\n  if (prevStorage === null) {\n    localStorage.setItem(key, JSON.stringify([recipeObject]));\n  } else {\n    const prevFavorites = JSON.parse(prevStorage);\n    const newFavorites = [...prevFavorites, recipeObject];\n    localStorage.setItem(key, JSON.stringify(newFavorites));\n  }\n}\n\nexport function removeFavoriteOrDoneRecipes(id, isDone = false) {\n  const key = isDone ? 'doneRecipes' : 'favoriteRecipes';\n  const prevStorage = localStorage.getItem(key);\n\n  if (prevStorage !== null) {\n    const prevFavorites = JSON.parse(prevStorage);\n    const newFavorites = prevFavorites.filter((favorite) => favorite.id !== id);\n    localStorage.setItem(key, JSON.stringify(newFavorites));\n  }\n}\n\nexport function getFavoriteOrDoneRecipes(isDone = false) {\n  const key = isDone ? 'doneRecipes' : 'favoriteRecipes';\n  const prevStorage = localStorage.getItem(key);\n  if (prevStorage === null) {\n    return [];\n  }\n\n  return JSON.parse(prevStorage);\n}\n\nfunction addFavorite(id, currRecipe) {\n  const LowerType = currRecipe.drinks ? 'drink' : 'food';\n  const recipeType = currRecipe.drinks ? 'drinks' : 'meals';\n  const nameKey = currRecipe.drinks ? 'strDrink' : 'strMeal';\n  const imageKey = currRecipe.drinks ? 'strDrinkThumb' : 'strMealThumb';\n  const recipe = currRecipe[recipeType][0];\n  const favorite = {\n    id,\n    type: LowerType,\n    nationality: recipe.strArea || '',\n    category: recipe.strCategory || '',\n    alcoholicOrNot: recipe.strAlcoholic || '',\n    name: recipe[nameKey],\n    image: recipe[imageKey],\n  };\n  saveFavoriteOrDoneRecipes(favorite);\n}\n\nexport default function handleFavorite(id, currRecipe, isFavorite, setIsFavorite) {\n  if (!isFavorite) {\n    addFavorite(id, currRecipe);\n  } else {\n    removeFavoriteOrDoneRecipes(id);\n  }\n  setIsFavorite(getFavoriteOrDoneRecipes().some((el) => el.id === id));\n}\n\nexport const handleDoneRecipe = (history, setDoneRecipes, doneRecipes) => {\n  setDoneRecipes((prevState) => [...prevState, 'teste']);\n  console.log(doneRecipes);\n  window.localStorage.setItem('doneRecipes', JSON.stringify(doneRecipes));\n  // history.push('/done-recipes');\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}