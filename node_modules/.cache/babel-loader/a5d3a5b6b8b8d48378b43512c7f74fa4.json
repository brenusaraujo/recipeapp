{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/RecipeApp/src/components/headerComponents/Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport profileIcon from '../../images/profileIcon.svg';\nimport HeaderSearchIcon from './HeaderSearchIcon';\nimport SearchBar from './SearchBar';\nimport Context from '../../context/Context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Header(_ref) {\n  _s();\n\n  let {\n    title\n  } = _ref;\n  const [showSearchIcon, setshowSearchIcon] = useState(true);\n  const [showSearchInput, setshowSearchInput] = useState(false);\n  const {\n    handleSearchChange,\n    error,\n    searchData\n  } = useContext(Context);\n  const history = useHistory();\n\n  const handleIcons = () => {\n    if (title === 'Favorite Recipes' || title === 'Done Recipes' || title === 'Profile') {\n      setshowSearchIcon(false);\n    }\n  };\n\n  const handleClickProfile = () => {\n    history.push('/profile');\n  };\n\n  const handleShowInput = () => {\n    setshowSearchInput(!showSearchInput);\n  };\n\n  useEffect(() => handleIcons(), []);\n  useEffect(() => {\n    if (searchData.length === 1) {\n      const pathname = history.location;\n      const type = pathname.pathname.split('/')[1];\n      const id = type === 'foods' ? searchData[0].idMeal : searchData[0].idDrink;\n      history.push(`/${type}/${id}`);\n    }\n  }, [searchData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [error && global.alert(error), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => handleClickProfile(),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: profileIcon,\n        alt: \"profileIcon\",\n        \"data-testid\": \"profile-top-btn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), showSearchIcon && /*#__PURE__*/_jsxDEV(HeaderSearchIcon, {\n      handleShowInput: handleShowInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 27\n    }, this), showSearchInput && /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      \"data-testid\": \"search-input\",\n      name: \"value\",\n      onChange: handleSearchChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 12\n    }, this), showSearchInput && /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      \"data-testid\": \"page-title\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Header, \"pQfrhycq4udjueB20C/rzje72XI=\", false, function () {\n  return [useHistory];\n});\n\n_c = Header;\nHeader.propTypes = {\n  title: PropTypes.string\n}.isRequired;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useEffect","useState","useContext","PropTypes","useHistory","profileIcon","HeaderSearchIcon","SearchBar","Context","Header","title","showSearchIcon","setshowSearchIcon","showSearchInput","setshowSearchInput","handleSearchChange","error","searchData","history","handleIcons","handleClickProfile","push","handleShowInput","length","pathname","location","type","split","id","idMeal","idDrink","global","alert","propTypes","string","isRequired"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/components/headerComponents/Header.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport profileIcon from '../../images/profileIcon.svg';\nimport HeaderSearchIcon from './HeaderSearchIcon';\nimport SearchBar from './SearchBar';\nimport Context from '../../context/Context';\n\nfunction Header({ title }) {\n  const [showSearchIcon, setshowSearchIcon] = useState(true);\n  const [showSearchInput, setshowSearchInput] = useState(false);\n\n  const {\n    handleSearchChange,\n    error,\n    searchData } = useContext(Context);\n\n  const history = useHistory();\n\n  const handleIcons = () => {\n    if (title === 'Favorite Recipes'\n    || title === 'Done Recipes'\n      || title === 'Profile') {\n      setshowSearchIcon(false);\n    }\n  };\n\n  const handleClickProfile = () => {\n    history.push('/profile');\n  };\n\n  const handleShowInput = () => {\n    setshowSearchInput(!showSearchInput);\n  };\n\n  useEffect(() => handleIcons(), []);\n\n  useEffect(() => {\n    if (searchData.length === 1) {\n      const pathname = history.location;\n      const type = pathname.pathname.split('/')[1];\n      const id = type === 'foods' ? searchData[0].idMeal : searchData[0].idDrink;\n      history.push(`/${type}/${id}`);\n    }\n  }, [searchData]);\n\n  return (\n    <div>\n      { error && global.alert(error) }\n      <button\n        type=\"button\"\n        onClick={ () => handleClickProfile() }\n      >\n        <img\n          src={ profileIcon }\n          alt=\"profileIcon\"\n          data-testid=\"profile-top-btn\"\n        />\n      </button>\n      { showSearchIcon && <HeaderSearchIcon handleShowInput={ handleShowInput } /> }\n      { showSearchInput\n        && <input\n          type=\"text\"\n          data-testid=\"search-input\"\n          name=\"value\"\n          onChange={ handleSearchChange }\n        /> }\n      { showSearchInput && <SearchBar /> }\n      <h1 data-testid=\"page-title\">{ title }</h1>\n    </div>\n  );\n}\n\nHeader.propTypes = {\n  title: PropTypes.string,\n}.isRequired;\n\nexport default Header;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,uBAApB;;;AAEA,SAASC,MAAT,OAA2B;EAAA;;EAAA,IAAX;IAAEC;EAAF,CAAW;EACzB,MAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCX,QAAQ,CAAC,IAAD,CAApD;EACA,MAAM,CAACY,eAAD,EAAkBC,kBAAlB,IAAwCb,QAAQ,CAAC,KAAD,CAAtD;EAEA,MAAM;IACJc,kBADI;IAEJC,KAFI;IAGJC;EAHI,IAGWf,UAAU,CAACM,OAAD,CAH3B;EAKA,MAAMU,OAAO,GAAGd,UAAU,EAA1B;;EAEA,MAAMe,WAAW,GAAG,MAAM;IACxB,IAAIT,KAAK,KAAK,kBAAV,IACDA,KAAK,KAAK,cADT,IAECA,KAAK,KAAK,SAFf,EAE0B;MACxBE,iBAAiB,CAAC,KAAD,CAAjB;IACD;EACF,CAND;;EAQA,MAAMQ,kBAAkB,GAAG,MAAM;IAC/BF,OAAO,CAACG,IAAR,CAAa,UAAb;EACD,CAFD;;EAIA,MAAMC,eAAe,GAAG,MAAM;IAC5BR,kBAAkB,CAAC,CAACD,eAAF,CAAlB;EACD,CAFD;;EAIAb,SAAS,CAAC,MAAMmB,WAAW,EAAlB,EAAsB,EAAtB,CAAT;EAEAnB,SAAS,CAAC,MAAM;IACd,IAAIiB,UAAU,CAACM,MAAX,KAAsB,CAA1B,EAA6B;MAC3B,MAAMC,QAAQ,GAAGN,OAAO,CAACO,QAAzB;MACA,MAAMC,IAAI,GAAGF,QAAQ,CAACA,QAAT,CAAkBG,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAb;MACA,MAAMC,EAAE,GAAGF,IAAI,KAAK,OAAT,GAAmBT,UAAU,CAAC,CAAD,CAAV,CAAcY,MAAjC,GAA0CZ,UAAU,CAAC,CAAD,CAAV,CAAca,OAAnE;MACAZ,OAAO,CAACG,IAAR,CAAc,IAAGK,IAAK,IAAGE,EAAG,EAA5B;IACD;EACF,CAPQ,EAON,CAACX,UAAD,CAPM,CAAT;EASA,oBACE;IAAA,WACID,KAAK,IAAIe,MAAM,CAACC,KAAP,CAAahB,KAAb,CADb,eAEE;MACE,IAAI,EAAC,QADP;MAEE,OAAO,EAAG,MAAMI,kBAAkB,EAFpC;MAAA,uBAIE;QACE,GAAG,EAAGf,WADR;QAEE,GAAG,EAAC,aAFN;QAGE,eAAY;MAHd;QAAA;QAAA;QAAA;MAAA;IAJF;MAAA;MAAA;MAAA;IAAA,QAFF,EAYIM,cAAc,iBAAI,QAAC,gBAAD;MAAkB,eAAe,EAAGW;IAApC;MAAA;MAAA;MAAA;IAAA,QAZtB,EAaIT,eAAe,iBACZ;MACD,IAAI,EAAC,MADJ;MAED,eAAY,cAFX;MAGD,IAAI,EAAC,OAHJ;MAID,QAAQ,EAAGE;IAJV;MAAA;MAAA;MAAA;IAAA,QAdP,EAoBIF,eAAe,iBAAI,QAAC,SAAD;MAAA;MAAA;MAAA;IAAA,QApBvB,eAqBE;MAAI,eAAY,YAAhB;MAAA,UAA+BH;IAA/B;MAAA;MAAA;MAAA;IAAA,QArBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAyBD;;GA/DQD,M;UASSL,U;;;KATTK,M;AAiETA,MAAM,CAACwB,SAAP,GAAmB;EACjBvB,KAAK,EAAEP,SAAS,CAAC+B;AADA,EAEjBC,UAFF;AAIA,eAAe1B,MAAf"},"metadata":{},"sourceType":"module"}