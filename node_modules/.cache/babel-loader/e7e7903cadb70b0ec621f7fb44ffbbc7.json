{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/RecipeInProgress.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FavoriteAndShareButtons } from '../components/index';\nimport Context from '../context/Context';\nimport '../css/Footer.css';\nimport '../css/RecipesInProgress.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RecipeInProgress() {\n  _s();\n\n  const history = useHistory();\n  const {\n    recipeDetails,\n    inProgressRecipes,\n    setInProgressRecipes,\n    requestData,\n    doneRecipes,\n    handleSendDone\n  } = useContext(Context);\n  const {\n    details: {\n      strMeal,\n      strDrinkThumb,\n      strDrink,\n      strMealThumb,\n      strCategory,\n      strInstructions\n    },\n    ingredients\n  } = recipeDetails;\n  const {\n    location: {\n      pathname\n    }\n  } = history;\n  const id = pathname.split('/')[2];\n  const type = pathname.split('/')[1].split('s')[0];\n  useEffect(() => {\n    requestData(type, id);\n  }, [type, id]);\n\n  const handleRiscar = index => {\n    if (inProgressRecipes.arr.some(rec => rec === index)) {\n      setInProgressRecipes({ ...inProgressRecipes,\n        arr: [...inProgressRecipes.arr.filter(risco => risco !== index)]\n      });\n    } else {\n      setInProgressRecipes({ ...inProgressRecipes,\n        arr: [...inProgressRecipes.arr, index]\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (inProgressRecipes.arr.length !== 0) {\n      localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n    }\n  }, [inProgressRecipes]);\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem('inProgressRecipes'));\n\n    if (data === null) {\n      localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n    } else {\n      setInProgressRecipes({\n        id,\n        arr: data.arr\n      });\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('doneRecipes', JSON.stringify(doneRecipes));\n    if (doneRecipes.some(recipe => recipe.id === id)) history.push('/done-recipes');\n  }, [doneRecipes]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          \"data-testid\": \"recipe-photo\",\n          src: strMealThumb || strDrinkThumb,\n          alt: strMeal || strDrink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          \"data-testid\": \"recipe-title\",\n          children: strMeal || strDrink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(FavoriteAndShareButtons, {\n            type: type,\n            id: id,\n            testIdShare: \"share-btn\",\n            testIdFavorite: \"favorite-btn\",\n            replace: \"in-progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": \"recipe-category\",\n        children: strCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ingredientes:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: ingredients.map((ingredient, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            \"data-testid\": `${index}-ingredient-step`,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"ingredient\",\n              value: index,\n              onChange: () => handleRiscar(index),\n              checked: inProgressRecipes.id === id && inProgressRecipes.arr.includes(index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: inProgressRecipes.id === id && inProgressRecipes.arr.includes(index) ? 'riscado' : '',\n              children: ingredient\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Instru\\xE7\\xF5es:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": \"instructions\",\n        children: strInstructions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"finish-recipe-btn\",\n        className: \"btn-finish-recipes\",\n        type: \"button\",\n        disabled: ingredients.length !== inProgressRecipes.arr.length,\n        onClick: () => handleSendDone(type, id),\n        children: \"Finish Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RecipeInProgress, \"gtLgsDFeGq3JjIgrcbc4vNyAf5M=\", false, function () {\n  return [useHistory];\n});\n\n_c = RecipeInProgress;\nexport default RecipeInProgress;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeInProgress\");","map":{"version":3,"names":["React","useContext","useEffect","useHistory","FavoriteAndShareButtons","Context","RecipeInProgress","history","recipeDetails","inProgressRecipes","setInProgressRecipes","requestData","doneRecipes","handleSendDone","details","strMeal","strDrinkThumb","strDrink","strMealThumb","strCategory","strInstructions","ingredients","location","pathname","id","split","type","handleRiscar","index","arr","some","rec","filter","risco","length","localStorage","setItem","JSON","stringify","data","parse","getItem","recipe","push","map","ingredient","includes"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/RecipeInProgress.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { FavoriteAndShareButtons } from '../components/index';\nimport Context from '../context/Context';\nimport '../css/Footer.css';\nimport '../css/RecipesInProgress.css';\n\nfunction RecipeInProgress() {\n  const history = useHistory();\n  const {\n    recipeDetails,\n    inProgressRecipes,\n    setInProgressRecipes,\n    requestData,\n    doneRecipes,\n    handleSendDone,\n  } = useContext(Context);\n\n  const { details: { strMeal,\n    strDrinkThumb,\n    strDrink,\n    strMealThumb,\n    strCategory,\n    strInstructions }, ingredients } = recipeDetails;\n\n  const { location: { pathname } } = history;\n  const id = pathname.split('/')[2];\n  const type = pathname.split('/')[1].split('s')[0];\n\n  useEffect(() => {\n    requestData(type, id);\n  }, [type, id]);\n\n  const handleRiscar = (index) => {\n    if (inProgressRecipes.arr.some((rec) => rec === index)) {\n      setInProgressRecipes({\n        ...inProgressRecipes,\n        arr: [...inProgressRecipes.arr.filter((risco) => risco !== index)] });\n    } else {\n      setInProgressRecipes({\n        ...inProgressRecipes,\n        arr: [...inProgressRecipes.arr, index],\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (inProgressRecipes.arr.length !== 0) {\n      localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n    }\n  }, [inProgressRecipes]);\n\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    if (data === null) {\n      localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n    } else {\n      setInProgressRecipes({\n        id,\n        arr: data.arr,\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('doneRecipes', JSON.stringify(doneRecipes));\n    if (doneRecipes.some((recipe) => recipe.id === id)) history.push('/done-recipes');\n  }, [doneRecipes]);\n\n  return (\n    <div>\n      <div>\n        <div>\n          <img\n            data-testid=\"recipe-photo\"\n            src={ strMealThumb || strDrinkThumb }\n            alt={ strMeal || strDrink }\n          />\n        </div>\n        <div>\n          <span data-testid=\"recipe-title\">{ strMeal || strDrink }</span>\n          <span>\n            <FavoriteAndShareButtons\n              type={ type }\n              id={ id }\n              testIdShare=\"share-btn\"\n              testIdFavorite=\"favorite-btn\"\n              replace=\"in-progress\"\n            />\n          </span>\n        </div>\n        <div data-testid=\"recipe-category\">{strCategory}</div>\n      </div>\n      <div>\n        <div>Ingredientes:</div>\n        <div>\n          <ul>\n            {ingredients.map((ingredient, index) => (\n              <li\n                key={ index }\n                data-testid={ `${index}-ingredient-step` }\n              >\n                <input\n                  type=\"checkbox\"\n                  name=\"ingredient\"\n                  value={ index }\n                  onChange={ () => handleRiscar(index) }\n                  checked={ inProgressRecipes.id === id\n                    && inProgressRecipes.arr.includes(index) }\n                />\n                <span\n                  className={ inProgressRecipes.id === id\n                  && inProgressRecipes.arr.includes(index) ? 'riscado' : '' }\n                >\n                  {ingredient}\n                </span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <div>\n        <div>Instruções:</div>\n        <div data-testid=\"instructions\">{strInstructions}</div>\n      </div>\n      <div>\n        <button\n          data-testid=\"finish-recipe-btn\"\n          className=\"btn-finish-recipes\"\n          type=\"button\"\n          disabled={ ingredients.length !== inProgressRecipes.arr.length }\n          onClick={ () => handleSendDone(type, id) }\n        >\n          Finish Recipe\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default RecipeInProgress;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}