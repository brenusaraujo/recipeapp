{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/FavoriteRecipes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Header from '../components/Header';\nimport { getFavoriteRecipes, setFavoriteRecipes } from '../services/localStorage';\nimport FavoriteCard from '../components/FavoriteCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst copy = require('clipboard-copy');\n\nfunction FavoriteRecipes() {\n  _s();\n\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [favorites, setFavorites] = useState([]);\n  const [isCopied, setIsCopied] = useState(false);\n  const [filteredRecipes, setFilteredRecipes] = useState([]);\n  const [renderFavorites, setRenderFavorites] = useState([]);\n  useEffect(() => {\n    setFavorites(getFavoriteRecipes());\n  }, []);\n  useEffect(() => {\n    if (filteredRecipes.length) return setRenderFavorites(filteredRecipes);\n    return setRenderFavorites(favorites);\n  }, [favorites, filteredRecipes]);\n\n  const handleShare = async _ref => {\n    let {\n      target: {\n        id\n      }\n    } = _ref;\n    await copy(`http://localhost:3000/${id}`);\n    setIsCopied(true);\n  };\n\n  const handleFavorite = _ref2 => {\n    let {\n      target: {\n        id\n      }\n    } = _ref2;\n    const deleteFavorite = getFavoriteRecipes().filter(recipe => recipe.name !== id);\n    setFavoriteRecipes(deleteFavorite);\n    setFavorites(deleteFavorite);\n  };\n\n  const handleFilter = _ref3 => {\n    let {\n      target: {\n        id\n      }\n    } = _ref3;\n    setSelectedCategory(id);\n    const type = id === 'Food' ? 'comida' : 'bebida';\n    const filterFavorites = favorites.filter(recipe => recipe.type === type);\n    setFilteredRecipes(filterFavorites);\n  };\n\n  const handleAll = () => {\n    setSelectedCategory('All');\n    setFilteredRecipes([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      name: \"Receitas Favoritas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: selectedCategory === 'All' ? 'selected' : 'filters__btn',\n        id: \"All\",\n        type: \"button\",\n        \"data-testid\": \"filter-by-all-btn\",\n        onClick: handleAll,\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: selectedCategory === 'Food' ? 'selected' : 'filters__btn',\n        id: \"Food\",\n        type: \"button\",\n        \"data-testid\": \"filter-by-food-btn\",\n        onClick: handleFilter,\n        children: \"Food\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: selectedCategory === 'Drink' ? 'selected' : 'filters__btn',\n        id: \"Drink\",\n        type: \"button\",\n        \"data-testid\": \"filter-by-drink-btn\",\n        onClick: handleFilter,\n        children: \"Drink\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"recipe-list\",\n      children: renderFavorites && renderFavorites.map((recipe, index) => {\n        if (recipe.type === 'comida') {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(FavoriteCard, {\n              type: \"comidas\",\n              recipe: recipe,\n              index: index,\n              topText: `${recipe.area} - ${recipe.category}`,\n              handleFavorite: handleFavorite,\n              handleShare: handleShare,\n              isCopied: isCopied\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)\n          }, recipe.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this);\n        }\n\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(FavoriteCard, {\n            type: \"bebidas\",\n            recipe: recipe,\n            index: index,\n            topText: recipe.alcoholicOrNot,\n            handleFavorite: handleFavorite,\n            handleShare: handleShare,\n            isCopied: isCopied\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, recipe.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FavoriteRecipes, \"fSXTZANkfoQYAo5xRRn/IFnLGe8=\");\n\n_c = FavoriteRecipes;\nexport default FavoriteRecipes;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoriteRecipes\");","map":{"version":3,"names":["React","useEffect","useState","Header","getFavoriteRecipes","setFavoriteRecipes","FavoriteCard","copy","require","FavoriteRecipes","selectedCategory","setSelectedCategory","favorites","setFavorites","isCopied","setIsCopied","filteredRecipes","setFilteredRecipes","renderFavorites","setRenderFavorites","length","handleShare","target","id","handleFavorite","deleteFavorite","filter","recipe","name","handleFilter","type","filterFavorites","handleAll","map","index","area","category","alcoholicOrNot"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/FavoriteRecipes.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Header from '../components/Header';\nimport { getFavoriteRecipes, setFavoriteRecipes } from '../services/localStorage';\nimport FavoriteCard from '../components/FavoriteCard';\n\nconst copy = require('clipboard-copy');\n\nfunction FavoriteRecipes() {\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [favorites, setFavorites] = useState([]);\n  const [isCopied, setIsCopied] = useState(false);\n  const [filteredRecipes, setFilteredRecipes] = useState([]);\n  const [renderFavorites, setRenderFavorites] = useState([]);\n  useEffect(() => {\n    setFavorites(getFavoriteRecipes());\n  }, []);\n\n  useEffect(() => {\n    if (filteredRecipes.length) return setRenderFavorites(filteredRecipes);\n    return setRenderFavorites(favorites);\n  }, [favorites, filteredRecipes]);\n\n  const handleShare = async ({ target: { id } }) => {\n    await copy(`http://localhost:3000/${id}`);\n    setIsCopied(true);\n  };\n\n  const handleFavorite = ({ target: { id } }) => {\n    const deleteFavorite = getFavoriteRecipes().filter(\n      (recipe) => recipe.name !== id,\n    );\n    setFavoriteRecipes(deleteFavorite);\n    setFavorites(deleteFavorite);\n  };\n\n  const handleFilter = ({ target: { id } }) => {\n    setSelectedCategory(id);\n    const type = id === 'Food' ? 'comida' : 'bebida';\n    const filterFavorites = favorites.filter((recipe) => recipe.type === type);\n    setFilteredRecipes(filterFavorites);\n  };\n\n  const handleAll = () => {\n    setSelectedCategory('All');\n    setFilteredRecipes([]);\n  };\n\n  return (\n    <div className=\"page-container\">\n      <Header name=\"Receitas Favoritas\" />\n      <div className=\"filters\">\n        <button\n          className={ selectedCategory === 'All' ? 'selected' : 'filters__btn' }\n          id=\"All\"\n          type=\"button\"\n          data-testid=\"filter-by-all-btn\"\n          onClick={ handleAll }\n        >\n          All\n        </button>\n        <button\n          className={ selectedCategory === 'Food' ? 'selected' : 'filters__btn' }\n          id=\"Food\"\n          type=\"button\"\n          data-testid=\"filter-by-food-btn\"\n          onClick={ handleFilter }\n        >\n          Food\n        </button>\n        <button\n          className={ selectedCategory === 'Drink' ? 'selected' : 'filters__btn' }\n          id=\"Drink\"\n          type=\"button\"\n          data-testid=\"filter-by-drink-btn\"\n          onClick={ handleFilter }\n        >\n          Drink\n        </button>\n      </div>\n      <ul className=\"recipe-list\">\n        { renderFavorites && renderFavorites.map((recipe, index) => {\n          if (recipe.type === 'comida') {\n            return (\n              <li key={ recipe.name }>\n                <FavoriteCard\n                  type=\"comidas\"\n                  recipe={ recipe }\n                  index={ index }\n                  topText={ `${recipe.area} - ${recipe.category}` }\n                  handleFavorite={ handleFavorite }\n                  handleShare={ handleShare }\n                  isCopied={ isCopied }\n                />\n              </li>\n            );\n          }\n          return (\n            <li key={ recipe.name }>\n              <FavoriteCard\n                type=\"bebidas\"\n                recipe={ recipe }\n                index={ index }\n                topText={ recipe.alcoholicOrNot }\n                handleFavorite={ handleFavorite }\n                handleShare={ handleShare }\n                isCopied={ isCopied }\n              />\n            </li>\n          );\n        }) }\n      </ul>\n\n    </div>\n  );\n}\n\nexport default FavoriteRecipes;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,QAAuD,0BAAvD;AACA,OAAOC,YAAP,MAAyB,4BAAzB;;;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAAC,gBAAD,CAApB;;AAEA,SAASC,eAAT,GAA2B;EAAA;;EACzB,MAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CT,QAAQ,CAAC,KAAD,CAAxD;EACA,MAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM,CAACc,eAAD,EAAkBC,kBAAlB,IAAwCf,QAAQ,CAAC,EAAD,CAAtD;EACA,MAAM,CAACgB,eAAD,EAAkBC,kBAAlB,IAAwCjB,QAAQ,CAAC,EAAD,CAAtD;EACAD,SAAS,CAAC,MAAM;IACdY,YAAY,CAACT,kBAAkB,EAAnB,CAAZ;EACD,CAFQ,EAEN,EAFM,CAAT;EAIAH,SAAS,CAAC,MAAM;IACd,IAAIe,eAAe,CAACI,MAApB,EAA4B,OAAOD,kBAAkB,CAACH,eAAD,CAAzB;IAC5B,OAAOG,kBAAkB,CAACP,SAAD,CAAzB;EACD,CAHQ,EAGN,CAACA,SAAD,EAAYI,eAAZ,CAHM,CAAT;;EAKA,MAAMK,WAAW,GAAG,cAA8B;IAAA,IAAvB;MAAEC,MAAM,EAAE;QAAEC;MAAF;IAAV,CAAuB;IAChD,MAAMhB,IAAI,CAAE,yBAAwBgB,EAAG,EAA7B,CAAV;IACAR,WAAW,CAAC,IAAD,CAAX;EACD,CAHD;;EAKA,MAAMS,cAAc,GAAG,SAAwB;IAAA,IAAvB;MAAEF,MAAM,EAAE;QAAEC;MAAF;IAAV,CAAuB;IAC7C,MAAME,cAAc,GAAGrB,kBAAkB,GAAGsB,MAArB,CACpBC,MAAD,IAAYA,MAAM,CAACC,IAAP,KAAgBL,EADP,CAAvB;IAGAlB,kBAAkB,CAACoB,cAAD,CAAlB;IACAZ,YAAY,CAACY,cAAD,CAAZ;EACD,CAND;;EAQA,MAAMI,YAAY,GAAG,SAAwB;IAAA,IAAvB;MAAEP,MAAM,EAAE;QAAEC;MAAF;IAAV,CAAuB;IAC3CZ,mBAAmB,CAACY,EAAD,CAAnB;IACA,MAAMO,IAAI,GAAGP,EAAE,KAAK,MAAP,GAAgB,QAAhB,GAA2B,QAAxC;IACA,MAAMQ,eAAe,GAAGnB,SAAS,CAACc,MAAV,CAAkBC,MAAD,IAAYA,MAAM,CAACG,IAAP,KAAgBA,IAA7C,CAAxB;IACAb,kBAAkB,CAACc,eAAD,CAAlB;EACD,CALD;;EAOA,MAAMC,SAAS,GAAG,MAAM;IACtBrB,mBAAmB,CAAC,KAAD,CAAnB;IACAM,kBAAkB,CAAC,EAAD,CAAlB;EACD,CAHD;;EAKA,oBACE;IAAK,SAAS,EAAC,gBAAf;IAAA,wBACE,QAAC,MAAD;MAAQ,IAAI,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAK,SAAS,EAAC,SAAf;MAAA,wBACE;QACE,SAAS,EAAGP,gBAAgB,KAAK,KAArB,GAA6B,UAA7B,GAA0C,cADxD;QAEE,EAAE,EAAC,KAFL;QAGE,IAAI,EAAC,QAHP;QAIE,eAAY,mBAJd;QAKE,OAAO,EAAGsB,SALZ;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAUE;QACE,SAAS,EAAGtB,gBAAgB,KAAK,MAArB,GAA8B,UAA9B,GAA2C,cADzD;QAEE,EAAE,EAAC,MAFL;QAGE,IAAI,EAAC,QAHP;QAIE,eAAY,oBAJd;QAKE,OAAO,EAAGmB,YALZ;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAVF,eAmBE;QACE,SAAS,EAAGnB,gBAAgB,KAAK,OAArB,GAA+B,UAA/B,GAA4C,cAD1D;QAEE,EAAE,EAAC,OAFL;QAGE,IAAI,EAAC,QAHP;QAIE,eAAY,qBAJd;QAKE,OAAO,EAAGmB,YALZ;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAnBF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eA+BE;MAAI,SAAS,EAAC,aAAd;MAAA,UACIX,eAAe,IAAIA,eAAe,CAACe,GAAhB,CAAoB,CAACN,MAAD,EAASO,KAAT,KAAmB;QAC1D,IAAIP,MAAM,CAACG,IAAP,KAAgB,QAApB,EAA8B;UAC5B,oBACE;YAAA,uBACE,QAAC,YAAD;cACE,IAAI,EAAC,SADP;cAEE,MAAM,EAAGH,MAFX;cAGE,KAAK,EAAGO,KAHV;cAIE,OAAO,EAAI,GAAEP,MAAM,CAACQ,IAAK,MAAKR,MAAM,CAACS,QAAS,EAJhD;cAKE,cAAc,EAAGZ,cALnB;cAME,WAAW,EAAGH,WANhB;cAOE,QAAQ,EAAGP;YAPb;cAAA;cAAA;cAAA;YAAA;UADF,GAAUa,MAAM,CAACC,IAAjB;YAAA;YAAA;YAAA;UAAA,QADF;QAaD;;QACD,oBACE;UAAA,uBACE,QAAC,YAAD;YACE,IAAI,EAAC,SADP;YAEE,MAAM,EAAGD,MAFX;YAGE,KAAK,EAAGO,KAHV;YAIE,OAAO,EAAGP,MAAM,CAACU,cAJnB;YAKE,cAAc,EAAGb,cALnB;YAME,WAAW,EAAGH,WANhB;YAOE,QAAQ,EAAGP;UAPb;YAAA;YAAA;YAAA;UAAA;QADF,GAAUa,MAAM,CAACC,IAAjB;UAAA;UAAA;UAAA;QAAA,QADF;MAaD,CA7BoB;IADvB;MAAA;MAAA;MAAA;IAAA,QA/BF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAmED;;GA3GQnB,e;;KAAAA,e;AA6GT,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}