{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/Login.js\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport profileIcon from \"../images/profileIcon.svg\";\nimport '../css/Login.css';\nconst MIN_PASSWORD_LENGTH = 6;\nfunction Login(_ref) {\n  let {\n    history\n  } = _ref;\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [buttonState, setButtonState] = useState(true);\n  const handleChange = async _ref2 => {\n    let {\n      target: {\n        id,\n        value\n      }\n    } = _ref2;\n    if (id === 'email') setEmail(value);else setPassword(value);\n  };\n  useEffect(() => {\n    if (password.length > MIN_PASSWORD_LENGTH && /\\S+@\\S+\\.\\S+/.test(email)) {\n      setButtonState(false);\n    } else setButtonState(true);\n  }, [email, password]);\n  const saveAndRedirect = e => {\n    e.preventDefault();\n    const objEmail = {\n      email\n    };\n    localStorage.setItem('mealsToken', '1');\n    localStorage.setItem('cocktailsToken', '1');\n    localStorage.setItem('user', JSON.stringify(objEmail));\n    history.push('/comidas');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"login__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, \"Trybe Food\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"login__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"Bem vindo!\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"login__text--sub\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"Sentimos sua falta!\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => saveAndRedirect(e),\n    className: \"login__form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Email\",\n    className: \"login__input\",\n    onChange: handleChange,\n    \"data-testid\": \"email-input\",\n    id: \"email\",\n    type: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Senha\",\n    className: \"login__input\",\n    onChange: handleChange,\n    \"data-testid\": \"password-input\",\n    id: \"password\",\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: !buttonState ? 'login__btn' : 'login__btn-disabled',\n    disabled: buttonState,\n    type: \"submit\",\n    onClick: saveAndRedirect,\n    \"data-testid\": \"login-submit-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Entrar\"), /*#__PURE__*/React.createElement(\"svg\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    href: `${profileIcon}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }))));\n}\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default withRouter(Login);","map":{"version":3,"names":["React","useEffect","useState","PropTypes","withRouter","MIN_PASSWORD_LENGTH","Login","history","email","setEmail","password","setPassword","buttonState","setButtonState","handleChange","target","id","value","length","test","saveAndRedirect","e","preventDefault","objEmail","localStorage","setItem","JSON","stringify","push","profileIcon","propTypes","shape","func","isRequired"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/Login.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport profileIcon from '../images/profileIcon.svg';\nimport '../css/Login.css';\n\nconst MIN_PASSWORD_LENGTH = 6;\n\nfunction Login({ history }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [buttonState, setButtonState] = useState(true);\n\n  const handleChange = async ({ target: { id, value } }) => {\n    if (id === 'email') setEmail(value);\n    else setPassword(value);\n  };\n\n  useEffect(() => {\n    if (password.length > MIN_PASSWORD_LENGTH && /\\S+@\\S+\\.\\S+/\n      .test(email)) { setButtonState(false); } else setButtonState(true);\n  }, [email, password]);\n\n  const saveAndRedirect = (e) => {\n    e.preventDefault();\n    const objEmail = { email };\n    localStorage.setItem('mealsToken', '1');\n    localStorage.setItem('cocktailsToken', '1');\n    localStorage.setItem('user', JSON.stringify(objEmail));\n    history.push('/comidas');\n  };\n\n  return (\n    <div className=\"login-container\">\n      <h1 className=\"login__header\">Trybe Food</h1>\n      <div className=\"text-container\">\n        <p className=\"login__text\">Bem vindo!</p>\n        <p className=\"login__text--sub\">Sentimos sua falta!</p>\n      </div>\n      <form onSubmit={ (e) => saveAndRedirect(e) } className=\"login__form\">\n        <input\n          placeholder=\"Email\"\n          className=\"login__input\"\n          onChange={ handleChange }\n          data-testid=\"email-input\"\n          id=\"email\"\n          type=\"email\"\n        />\n        <input\n          placeholder=\"Senha\"\n          className=\"login__input\"\n          onChange={ handleChange }\n          data-testid=\"password-input\"\n          id=\"password\"\n          type=\"password\"\n        />\n        <button\n          className={ !buttonState ? 'login__btn' : 'login__btn-disabled' }\n          disabled={ buttonState }\n          type=\"submit\"\n          onClick={ saveAndRedirect }\n          data-testid=\"login-submit-btn\"\n        >\n          Entrar\n        </button>\n        <svg>\n          <use href={ `${profileIcon}` } />\n        </svg>\n      </form>\n    </div>\n  );\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default withRouter(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}