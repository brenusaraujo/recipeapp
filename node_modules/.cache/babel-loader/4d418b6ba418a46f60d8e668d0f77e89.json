{"ast":null,"code":"import _slicedToArray from\"/Users/brenoaraujo/projects-to-github/RecipeApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import Footer from'../components/Footer';import Header from'../components/Header';import RecipesContext from'../context/RecipesContext';import{requestFoodsOrDrinks,requestFilteredDrinks}from'../services/fetchAPIs';import Card from'../components/Card';import FilterButtons from'../components/FilterButtons';import'../css/MainPage.css';var MAX_MAP_LENGTH=12;function Beverage(_ref){var ingredient=_ref.location.ingredient;var _useState=useState(),_useState2=_slicedToArray(_useState,2),beverages=_useState2[0],setBeverages=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),renderBeverage=_useState4[0],setRenderBeverage=_useState4[1];var _useContext=useContext(RecipesContext),filteredBeverage=_useContext.filteredBeverage;useEffect(function(){if(!ingredient){requestFoodsOrDrinks('thecocktaildb').then(function(_ref2){var drinks=_ref2.drinks;return setBeverages(drinks);});}else{requestFilteredDrinks(ingredient,'ingredient').then(function(_ref3){var drinks=_ref3.drinks;return setBeverages(drinks);});}},[ingredient]);useEffect(function(){var results=filteredBeverage.length>0?filteredBeverage:beverages;if(results)setRenderBeverage(results.slice(0,MAX_MAP_LENGTH));},[filteredBeverage,beverages]);return/*#__PURE__*/React.createElement(\"div\",{className:\"page-container\"},/*#__PURE__*/React.createElement(Header,{name:\"Bebidas\",search:true}),/*#__PURE__*/React.createElement(FilterButtons,{url:\"thecocktaildb\",type:\"drinks\"}),/*#__PURE__*/React.createElement(\"main\",{className:\"recipes\"},renderBeverage&&renderBeverage.map(function(beverage,index){return/*#__PURE__*/React.createElement(Card,{id:\"idDrink\",itemId:beverage.idDrink,header:beverage.strDrink,img:beverage.strDrinkThumb,index:index,key:beverage.idDrink,testId:\"\".concat(index,\"-recipe-card\")});}),/*#__PURE__*/React.createElement(Footer,null)));}Beverage.defaultProps={location:{}};export default Beverage;","map":{"version":3,"names":["React","useContext","useEffect","useState","Footer","Header","RecipesContext","requestFoodsOrDrinks","requestFilteredDrinks","Card","FilterButtons","MAX_MAP_LENGTH","Beverage","ingredient","location","beverages","setBeverages","renderBeverage","setRenderBeverage","filteredBeverage","then","drinks","results","length","slice","map","beverage","index","idDrink","strDrink","strDrinkThumb","defaultProps"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/Beverage.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport RecipesContext from '../context/RecipesContext';\nimport { requestFoodsOrDrinks, requestFilteredDrinks } from '../services/fetchAPIs';\nimport Card from '../components/Card';\nimport FilterButtons from '../components/FilterButtons';\nimport '../css/MainPage.css';\n\nconst MAX_MAP_LENGTH = 12;\n\nfunction Beverage({ location: { ingredient } }) {\n  const [beverages, setBeverages] = useState();\n  const [renderBeverage, setRenderBeverage] = useState([]);\n  const { filteredBeverage } = useContext(RecipesContext);\n\n  useEffect(() => {\n    if (!ingredient) {\n      requestFoodsOrDrinks('thecocktaildb')\n        .then(({ drinks }) => setBeverages(drinks));\n    } else {\n      requestFilteredDrinks(ingredient, 'ingredient')\n        .then(({ drinks }) => setBeverages(drinks));\n    }\n  }, [ingredient]);\n\n  useEffect(() => {\n    const results = filteredBeverage.length > 0 ? filteredBeverage : beverages;\n    if (results) setRenderBeverage(results.slice(0, MAX_MAP_LENGTH));\n  }, [filteredBeverage, beverages]);\n\n  return (\n    <div className=\"page-container\">\n      <Header name=\"Bebidas\" search />\n      <FilterButtons url=\"thecocktaildb\" type=\"drinks\" />\n      <main className=\"recipes\">\n        { renderBeverage && renderBeverage.map((beverage, index) => (\n          <Card\n            id=\"idDrink\"\n            itemId={ beverage.idDrink }\n            header={ beverage.strDrink }\n            img={ beverage.strDrinkThumb }\n            index={ index }\n            key={ beverage.idDrink }\n            testId={ `${index}-recipe-card` }\n          />\n        )) }\n        <Footer />\n      </main>\n    </div>\n  );\n}\n\nBeverage.propTypes = {\n  location: PropTypes.shape({\n    ingredient: PropTypes.string,\n  }),\n};\n\nBeverage.defaultProps = {\n  location: {},\n};\n\nexport default Beverage;\n"],"mappings":"sKAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE9D,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,eAAc,KAAM,2BAA2B,CACtD,OAASC,oBAAoB,CAAEC,qBAAqB,KAAQ,uBAAuB,CACnF,MAAOC,KAAI,KAAM,oBAAoB,CACrC,MAAOC,cAAa,KAAM,6BAA6B,CACvD,MAAO,qBAAqB,CAE5B,GAAMC,eAAc,CAAG,EAAE,CAEzB,QAASC,SAAQ,MAA+B,IAAhBC,WAAU,MAAtBC,QAAQ,CAAID,UAAU,CACxC,cAAkCV,QAAQ,EAAE,wCAArCY,SAAS,eAAEC,YAAY,eAC9B,eAA4Cb,QAAQ,CAAC,EAAE,CAAC,yCAAjDc,cAAc,eAAEC,iBAAiB,eACxC,gBAA6BjB,UAAU,CAACK,cAAc,CAAC,CAA/Ca,gBAAgB,aAAhBA,gBAAgB,CAExBjB,SAAS,CAAC,UAAM,CACd,GAAI,CAACW,UAAU,CAAE,CACfN,oBAAoB,CAAC,eAAe,CAAC,CAClCa,IAAI,CAAC,mBAAGC,OAAM,OAANA,MAAM,OAAOL,aAAY,CAACK,MAAM,CAAC,GAAC,CAC/C,CAAC,IAAM,CACLb,qBAAqB,CAACK,UAAU,CAAE,YAAY,CAAC,CAC5CO,IAAI,CAAC,mBAAGC,OAAM,OAANA,MAAM,OAAOL,aAAY,CAACK,MAAM,CAAC,GAAC,CAC/C,CACF,CAAC,CAAE,CAACR,UAAU,CAAC,CAAC,CAEhBX,SAAS,CAAC,UAAM,CACd,GAAMoB,QAAO,CAAGH,gBAAgB,CAACI,MAAM,CAAG,CAAC,CAAGJ,gBAAgB,CAAGJ,SAAS,CAC1E,GAAIO,OAAO,CAAEJ,iBAAiB,CAACI,OAAO,CAACE,KAAK,CAAC,CAAC,CAAEb,cAAc,CAAC,CAAC,CAClE,CAAC,CAAE,CAACQ,gBAAgB,CAAEJ,SAAS,CAAC,CAAC,CAEjC,mBACE,2BAAK,SAAS,CAAC,gBAAgB,eAC7B,oBAAC,MAAM,EAAC,IAAI,CAAC,SAAS,CAAC,MAAM,OAAG,cAChC,oBAAC,aAAa,EAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAG,cACnD,4BAAM,SAAS,CAAC,SAAS,EACrBE,cAAc,EAAIA,cAAc,CAACQ,GAAG,CAAC,SAACC,QAAQ,CAAEC,KAAK,qBACrD,oBAAC,IAAI,EACH,EAAE,CAAC,SAAS,CACZ,MAAM,CAAGD,QAAQ,CAACE,OAAS,CAC3B,MAAM,CAAGF,QAAQ,CAACG,QAAU,CAC5B,GAAG,CAAGH,QAAQ,CAACI,aAAe,CAC9B,KAAK,CAAGH,KAAO,CACf,GAAG,CAAGD,QAAQ,CAACE,OAAS,CACxB,MAAM,WAAMD,KAAK,gBAAgB,EACjC,EACH,CAAC,cACF,oBAAC,MAAM,MAAG,CACL,CACH,CAEV,CAQAf,QAAQ,CAACmB,YAAY,CAAG,CACtBjB,QAAQ,CAAE,CAAC,CACb,CAAC,CAED,cAAeF,SAAQ"},"metadata":{},"sourceType":"module"}