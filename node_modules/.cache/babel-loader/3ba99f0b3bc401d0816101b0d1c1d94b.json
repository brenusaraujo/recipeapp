{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/RecipeApp/src/components/Category.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Context from '../context/Context';\nimport { requestCategoryFood, requestCategoryDrinks, requestCategorysFoods, requestCategorysDrinks, requestFoodsRecomendation, requestDrinksRecomendation } from '../services/requestMealsAndDrinksAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Category() {\n  _s();\n\n  const [categoryFoods, setCategoryFoods] = useState([]);\n  const [categoryDrinks, setCategoryDrinks] = useState([]);\n  const {\n    setDataFoods,\n    setDataDrinks,\n    toggleFilter,\n    setToggleFilter\n  } = useContext(Context);\n  const history = useHistory();\n  const {\n    pathname\n  } = history.location;\n  const type = pathname.split('/')[1];\n\n  const handleSendCategoryFoods = async category => {\n    const getFoodsCategory = toggleFilter ? await requestFoodsRecomendation('initial') : await requestCategorysFoods(category);\n    setDataFoods(getFoodsCategory);\n    setToggleFilter(!toggleFilter);\n  };\n\n  const handleSendCategoryDrinks = async category => {\n    const getDrinsCategory = toggleFilter ? await requestDrinksRecomendation('initial') : await requestCategorysDrinks(category);\n    setDataDrinks(getDrinsCategory);\n    setToggleFilter(!toggleFilter);\n  };\n\n  const clearCategory = async () => {\n    if (type === 'foods') {\n      const getMeals12 = await requestFoodsRecomendation('initial');\n      setDataFoods(getMeals12);\n    } else {\n      const getDrins12 = await requestDrinksRecomendation('initial');\n      setDataDrinks(getDrins12);\n    }\n  };\n\n  useEffect(() => {\n    const QTDS_LIST = 5;\n\n    const getRequestAPINULL = async () => {\n      if (pathname === '/foods') {\n        const getCateFoods = await requestCategoryFood();\n        setCategoryFoods(getCateFoods.slice(0, QTDS_LIST));\n      } else {\n        const getCateDrinks = await requestCategoryDrinks();\n        setCategoryDrinks(getCateDrinks.slice(0, QTDS_LIST));\n      }\n    };\n\n    getRequestAPINULL();\n    return () => {\n      setCategoryFoods();\n      setCategoryDrinks();\n    };\n  }, []);\n\n  if (pathname === '/foods') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"All-category-filter\",\n        type: \"button\",\n        onClick: clearCategory,\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), categoryFoods && categoryFoods.map((categoryFood, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": `${categoryFood.strCategory}-category-filter`,\n        type: \"button\",\n        onClick: () => handleSendCategoryFoods(categoryFood.strCategory),\n        children: categoryFood.strCategory\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (pathname === '/drinks') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"All-category-filter\",\n        type: \"button\",\n        onClick: clearCategory,\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), categoryDrinks.map((categoryDrink, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": `${categoryDrink.strCategory}-category-filter`,\n        type: \"button\",\n        onClick: () => handleSendCategoryDrinks(categoryDrink.strCategory),\n        children: categoryDrink.strCategory\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Category, \"uF7NRkXiuhRwCvWw3d46LdtCvM0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Category;\nexport default Category;\n\nvar _c;\n\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useHistory","Context","requestCategoryFood","requestCategoryDrinks","requestCategorysFoods","requestCategorysDrinks","requestFoodsRecomendation","requestDrinksRecomendation","Category","categoryFoods","setCategoryFoods","categoryDrinks","setCategoryDrinks","setDataFoods","setDataDrinks","toggleFilter","setToggleFilter","history","pathname","location","type","split","handleSendCategoryFoods","category","getFoodsCategory","handleSendCategoryDrinks","getDrinsCategory","clearCategory","getMeals12","getDrins12","QTDS_LIST","getRequestAPINULL","getCateFoods","slice","getCateDrinks","map","categoryFood","index","strCategory","categoryDrink"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/components/Category.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Context from '../context/Context';\nimport {\n  requestCategoryFood,\n  requestCategoryDrinks,\n  requestCategorysFoods,\n  requestCategorysDrinks,\n  requestFoodsRecomendation,\n  requestDrinksRecomendation,\n} from '../services/requestMealsAndDrinksAPI';\n\nfunction Category() {\n  const [categoryFoods, setCategoryFoods] = useState([]);\n  const [categoryDrinks, setCategoryDrinks] = useState([]);\n\n  const {\n    setDataFoods,\n    setDataDrinks,\n    toggleFilter,\n    setToggleFilter } = useContext(Context);\n\n  const history = useHistory();\n  const { pathname } = history.location;\n  const type = pathname.split('/')[1];\n\n  const handleSendCategoryFoods = async (category) => {\n    const getFoodsCategory = toggleFilter\n      ? await requestFoodsRecomendation('initial')\n      : await requestCategorysFoods(category);\n    setDataFoods(getFoodsCategory);\n    setToggleFilter(!toggleFilter);\n  };\n\n  const handleSendCategoryDrinks = async (category) => {\n    const getDrinsCategory = toggleFilter\n      ? await requestDrinksRecomendation('initial')\n      : await requestCategorysDrinks(category);\n    setDataDrinks(getDrinsCategory);\n    setToggleFilter(!toggleFilter);\n  };\n\n  const clearCategory = async () => {\n    if (type === 'foods') {\n      const getMeals12 = await requestFoodsRecomendation('initial');\n      setDataFoods(getMeals12);\n    } else {\n      const getDrins12 = await requestDrinksRecomendation('initial');\n      setDataDrinks(getDrins12);\n    }\n  };\n\n  useEffect(() => {\n    const QTDS_LIST = 5;\n    const getRequestAPINULL = async () => {\n      if (pathname === '/foods') {\n        const getCateFoods = await requestCategoryFood();\n        setCategoryFoods(getCateFoods.slice(0, QTDS_LIST));\n      } else {\n        const getCateDrinks = await requestCategoryDrinks();\n        setCategoryDrinks(getCateDrinks.slice(0, QTDS_LIST));\n      }\n    };\n    getRequestAPINULL();\n    return () => {\n      setCategoryFoods();\n      setCategoryDrinks();\n    };\n  }, []);\n\n  if (pathname === '/foods') {\n    return (\n      <div>\n        <button\n          data-testid=\"All-category-filter\"\n          type=\"button\"\n          onClick={ clearCategory }\n        >\n          All\n        </button>\n        {categoryFoods && categoryFoods.map((categoryFood, index) => (\n          <button\n            key={ index }\n            data-testid={ `${categoryFood.strCategory}-category-filter` }\n            type=\"button\"\n            onClick={ () => handleSendCategoryFoods(categoryFood.strCategory) }\n          >\n            {categoryFood.strCategory}\n          </button>\n        ))}\n      </div>\n    );\n  }\n  if (pathname === '/drinks') {\n    return (\n      <div>\n        <button\n          data-testid=\"All-category-filter\"\n          type=\"button\"\n          onClick={ clearCategory }\n        >\n          All\n        </button>\n        {categoryDrinks.map((categoryDrink, index) => (\n          <button\n            key={ index }\n            data-testid={ `${categoryDrink.strCategory}-category-filter` }\n            type=\"button\"\n            onClick={ () => handleSendCategoryDrinks(categoryDrink.strCategory) }\n          >\n            {categoryDrink.strCategory}\n          </button>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Category;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}