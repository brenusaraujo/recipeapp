{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/Projetos Trybe/sd-022-b-project-recipes-app/src/pages/FavoriteRecipes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport Header from '../components/Header';\nimport shareIcon from '../images/shareIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport AppContext from '../context/AppContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FavoriteRecipes() {\n  _s();\n\n  const {\n    setTitle\n  } = useContext(AppContext);\n  useEffect(() => {\n    document.title = 'Favorite Recipes';\n    setTitle(document.title); // ?\n  }, []);\n  const [favoriteFoods, setFavoriteFoods] = useState([]);\n  const [elementCopied, setElementCopied] = useState('');\n  const [filter, setFilter] = useState('all');\n\n  const handleClickShare = (type, id) => {\n    setElementCopied(id);\n    copy(`http://localhost:3000/${type}s/${id}`);\n  };\n\n  const handleFavoriteStorage = currentId => {\n    const favoriteStorage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const newFavorites = favoriteStorage.filter(_ref => {\n      let {\n        id\n      } = _ref;\n      return id !== currentId;\n    });\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorites));\n    setFavoriteFoods(newFavorites);\n  };\n\n  useEffect(() => {\n    const getLocalStorage = () => {\n      const storage = localStorage.getItem('favoriteRecipes');\n      const favoriteRecipes = storage ? JSON.parse(storage) : [];\n      setFavoriteFoods(favoriteRecipes);\n    };\n\n    getLocalStorage();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        style: {\n          cursor: 'pointer'\n        },\n        \"data-testid\": \"filter-by-all-btn\",\n        onClick: () => setFilter('all'),\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        style: {\n          cursor: 'pointer'\n        },\n        \"data-testid\": \"filter-by-food-btn\",\n        onClick: () => setFilter('food'),\n        children: \"Food\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        style: {\n          cursor: 'pointer'\n        },\n        \"data-testid\": \"filter-by-drink-btn\",\n        onClick: () => setFilter('drink'),\n        children: \"Drinks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), !!favoriteFoods.length && /*#__PURE__*/_jsxDEV(\"section\", {\n      children: favoriteFoods.filter(_ref2 => {\n        let {\n          type\n        } = _ref2;\n        return filter === 'all' || type === filter;\n      }).map((_ref3, index) => {\n        let {\n          id,\n          image,\n          name,\n          type,\n          category,\n          alcoholicOrNot,\n          nationality\n        } = _ref3;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/${type}s/${id}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              \"data-testid\": `${index}-horizontal-image`,\n              src: image,\n              alt: `${name}`,\n              style: {\n                width: '250px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/${type}s/${id}`,\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              \"data-testid\": `${index}-horizontal-name`,\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            \"data-testid\": `${index}-horizontal-top-text`,\n            children: type === 'food' ? `${nationality} - ${category}` : alcoholicOrNot\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleClickShare(type, id),\n            style: {\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              \"data-testid\": `${index}-horizontal-share-btn`,\n              src: shareIcon,\n              alt: \"\\xCDcone de compartilhamento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 19\n          }, this), elementCopied === id && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Link copied!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleFavoriteStorage(id),\n            style: {\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: blackHeartIcon,\n              alt: \"\\xCDcone de favoritar\",\n              \"data-testid\": `${index}-horizontal-favorite-btn`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 19\n          }, this)]\n        }, `${id}-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FavoriteRecipes, \"P0bl69Oka2r2OZTd0QtBMZ8mIVU=\");\n\n_c = FavoriteRecipes;\nexport default FavoriteRecipes;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoriteRecipes\");","map":{"version":3,"names":["React","useEffect","useContext","useState","Link","copy","Header","shareIcon","blackHeartIcon","AppContext","FavoriteRecipes","setTitle","document","title","favoriteFoods","setFavoriteFoods","elementCopied","setElementCopied","filter","setFilter","handleClickShare","type","id","handleFavoriteStorage","currentId","favoriteStorage","JSON","parse","localStorage","getItem","newFavorites","setItem","stringify","getLocalStorage","storage","favoriteRecipes","cursor","length","map","index","image","name","category","alcoholicOrNot","nationality","width","background","border"],"sources":["/Users/brenoaraujo/Projetos Trybe/sd-022-b-project-recipes-app/src/pages/FavoriteRecipes.js"],"sourcesContent":["import React, { useEffect, useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport Header from '../components/Header';\nimport shareIcon from '../images/shareIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport AppContext from '../context/AppContext';\n\nfunction FavoriteRecipes() {\n  const {\n    setTitle,\n  } = useContext(AppContext);\n  useEffect(() => {\n    document.title = 'Favorite Recipes';\n    setTitle(document.title); // ?\n  }, []);\n\n  const [favoriteFoods, setFavoriteFoods] = useState([]);\n  const [elementCopied, setElementCopied] = useState('');\n  const [filter, setFilter] = useState('all');\n\n  const handleClickShare = (type, id) => {\n    setElementCopied(id);\n    copy(`http://localhost:3000/${type}s/${id}`);\n  };\n\n  const handleFavoriteStorage = (currentId) => {\n    const favoriteStorage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const newFavorites = favoriteStorage.filter(({ id }) => id !== currentId);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorites));\n    setFavoriteFoods(newFavorites);\n  };\n\n  useEffect(() => {\n    const getLocalStorage = () => {\n      const storage = localStorage.getItem('favoriteRecipes');\n      const favoriteRecipes = storage ? JSON.parse(storage) : [];\n      setFavoriteFoods(favoriteRecipes);\n    };\n    getLocalStorage();\n  }, []);\n\n  return (\n    <>\n      <Header />\n      <div>\n        <button\n          type=\"button\"\n          style={ { cursor: 'pointer' } }\n          data-testid=\"filter-by-all-btn\"\n          onClick={ () => setFilter('all') }\n        >\n          All\n        </button>\n        <button\n          type=\"button\"\n          style={ { cursor: 'pointer' } }\n          data-testid=\"filter-by-food-btn\"\n          onClick={ () => setFilter('food') }\n        >\n          Food\n        </button>\n        <button\n          type=\"button\"\n          style={ { cursor: 'pointer' } }\n          data-testid=\"filter-by-drink-btn\"\n          onClick={ () => setFilter('drink') }\n        >\n          Drinks\n        </button>\n      </div>\n      { !!favoriteFoods.length && (\n        <section>\n          {\n            favoriteFoods.filter(({ type }) => filter === 'all' || type === filter)\n              .map(({\n                id,\n                image,\n                name,\n                type,\n                category,\n                alcoholicOrNot,\n                nationality,\n              }, index) => (\n                <div\n                  key={ `${id}-${index}` }\n                >\n                  <Link to={ `/${type}s/${id}` }>\n                    <img\n                      data-testid={ `${index}-horizontal-image` }\n                      src={ image }\n                      alt={ `${name}` }\n                      style={ { width: '250px' } }\n                    />\n                  </Link>\n                  <Link to={ `/${type}s/${id}` }>\n                    <h3\n                      data-testid={ `${index}-horizontal-name` }\n                    >\n                      {name}\n                    </h3>\n                  </Link>\n                  <p\n                    data-testid={ `${index}-horizontal-top-text` }\n                  >\n                    {type === 'food' ? `${nationality} - ${category}` : alcoholicOrNot}\n                  </p>\n                  <button\n                    type=\"button\"\n                    onClick={ () => handleClickShare(type, id) }\n                    style={ { background: 'none', border: 'none', cursor: 'pointer' } }\n                  >\n                    <img\n                      data-testid={ `${index}-horizontal-share-btn` }\n                      src={ shareIcon }\n                      alt=\"Ícone de compartilhamento\"\n                    />\n                  </button>\n                  {elementCopied === id\n                  && (\n                    <span>\n                      Link copied!\n                    </span>\n                  )}\n                  <button\n                    type=\"button\"\n                    onClick={ () => handleFavoriteStorage(id) }\n                    style={ { background: 'none', border: 'none', cursor: 'pointer' } }\n                  >\n                    <img\n                      src={ blackHeartIcon }\n                      alt=\"Ícone de favoritar\"\n                      data-testid={ `${index}-horizontal-favorite-btn` }\n                    />\n                  </button>\n                </div>\n              ))\n          }\n        </section>\n      )}\n    </>\n  );\n}\n\nexport default FavoriteRecipes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}