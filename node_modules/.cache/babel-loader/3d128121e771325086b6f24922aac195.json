{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/FavoriteRecipes.js\";\nimport React, { useEffect, useState } from 'react';\nimport Header from '../components/Header';\nimport { getFavoriteRecipes, setFavoriteRecipes } from '../services/localStorage';\nimport FavoriteCard from '../components/FavoriteCard';\nconst copy = require('clipboard-copy');\nfunction FavoriteRecipes() {\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [favorites, setFavorites] = useState([]);\n  const [isCopied, setIsCopied] = useState(false);\n  const [filteredRecipes, setFilteredRecipes] = useState([]);\n  const [renderFavorites, setRenderFavorites] = useState([]);\n  useEffect(() => {\n    setFavorites(getFavoriteRecipes());\n  }, []);\n  useEffect(() => {\n    if (filteredRecipes.length) return setRenderFavorites(filteredRecipes);\n    return setRenderFavorites(favorites);\n  }, [favorites, filteredRecipes]);\n  const handleShare = async _ref => {\n    let {\n      target: {\n        id\n      }\n    } = _ref;\n    await copy(`http://localhost:3000/${id}`);\n    setIsCopied(true);\n  };\n  const handleFavorite = _ref2 => {\n    let {\n      target: {\n        id\n      }\n    } = _ref2;\n    const deleteFavorite = getFavoriteRecipes().filter(recipe => recipe.name !== id);\n    setFavoriteRecipes(deleteFavorite);\n    setFavorites(deleteFavorite);\n  };\n  const handleFilter = _ref3 => {\n    let {\n      target: {\n        id\n      }\n    } = _ref3;\n    setSelectedCategory(id);\n    const type = id === 'Food' ? 'comida' : 'bebida';\n    const filterFavorites = favorites.filter(recipe => recipe.type === type);\n    setFilteredRecipes(filterFavorites);\n  };\n  const handleAll = () => {\n    setSelectedCategory('All');\n    setFilteredRecipes([]);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    name: \"Receitas Favoritas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: selectedCategory === 'All' ? 'selected' : 'filters__btn',\n    id: \"All\",\n    type: \"button\",\n    \"data-testid\": \"filter-by-all-btn\",\n    onClick: handleAll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"All\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: selectedCategory === 'Food' ? 'selected' : 'filters__btn',\n    id: \"Food\",\n    type: \"button\",\n    \"data-testid\": \"filter-by-food-btn\",\n    onClick: handleFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"Food\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: selectedCategory === 'Drink' ? 'selected' : 'filters__btn',\n    id: \"Drink\",\n    type: \"button\",\n    \"data-testid\": \"filter-by-drink-btn\",\n    onClick: handleFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"Drink\")), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"recipe-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, renderFavorites && renderFavorites.map((recipe, index) => {\n    if (recipe.type === 'comida') {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: recipe.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FavoriteCard, {\n        type: \"comidas\",\n        recipe: recipe,\n        index: index,\n        topText: `${recipe.area} - ${recipe.category}`,\n        handleFavorite: handleFavorite,\n        handleShare: handleShare,\n        isCopied: isCopied,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }\n      }));\n    }\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: recipe.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FavoriteCard, {\n      type: \"bebidas\",\n      recipe: recipe,\n      index: index,\n      topText: recipe.alcoholicOrNot,\n      handleFavorite: handleFavorite,\n      handleShare: handleShare,\n      isCopied: isCopied,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }));\n  })));\n}\nexport default FavoriteRecipes;","map":{"version":3,"names":["React","useEffect","useState","Header","getFavoriteRecipes","setFavoriteRecipes","FavoriteCard","copy","require","FavoriteRecipes","selectedCategory","setSelectedCategory","favorites","setFavorites","isCopied","setIsCopied","filteredRecipes","setFilteredRecipes","renderFavorites","setRenderFavorites","length","handleShare","target","id","handleFavorite","deleteFavorite","filter","recipe","name","handleFilter","type","filterFavorites","handleAll","map","index","area","category","alcoholicOrNot"],"sources":["/Users/brenoaraujo/projects-to-github/RecipeApp/src/pages/FavoriteRecipes.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Header from '../components/Header';\nimport { getFavoriteRecipes, setFavoriteRecipes } from '../services/localStorage';\nimport FavoriteCard from '../components/FavoriteCard';\n\nconst copy = require('clipboard-copy');\n\nfunction FavoriteRecipes() {\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [favorites, setFavorites] = useState([]);\n  const [isCopied, setIsCopied] = useState(false);\n  const [filteredRecipes, setFilteredRecipes] = useState([]);\n  const [renderFavorites, setRenderFavorites] = useState([]);\n  useEffect(() => {\n    setFavorites(getFavoriteRecipes());\n  }, []);\n\n  useEffect(() => {\n    if (filteredRecipes.length) return setRenderFavorites(filteredRecipes);\n    return setRenderFavorites(favorites);\n  }, [favorites, filteredRecipes]);\n\n  const handleShare = async ({ target: { id } }) => {\n    await copy(`http://localhost:3000/${id}`);\n    setIsCopied(true);\n  };\n\n  const handleFavorite = ({ target: { id } }) => {\n    const deleteFavorite = getFavoriteRecipes().filter(\n      (recipe) => recipe.name !== id,\n    );\n    setFavoriteRecipes(deleteFavorite);\n    setFavorites(deleteFavorite);\n  };\n\n  const handleFilter = ({ target: { id } }) => {\n    setSelectedCategory(id);\n    const type = id === 'Food' ? 'comida' : 'bebida';\n    const filterFavorites = favorites.filter((recipe) => recipe.type === type);\n    setFilteredRecipes(filterFavorites);\n  };\n\n  const handleAll = () => {\n    setSelectedCategory('All');\n    setFilteredRecipes([]);\n  };\n\n  return (\n    <div className=\"page-container\">\n      <Header name=\"Receitas Favoritas\" />\n      <div className=\"filters\">\n        <button\n          className={ selectedCategory === 'All' ? 'selected' : 'filters__btn' }\n          id=\"All\"\n          type=\"button\"\n          data-testid=\"filter-by-all-btn\"\n          onClick={ handleAll }\n        >\n          All\n        </button>\n        <button\n          className={ selectedCategory === 'Food' ? 'selected' : 'filters__btn' }\n          id=\"Food\"\n          type=\"button\"\n          data-testid=\"filter-by-food-btn\"\n          onClick={ handleFilter }\n        >\n          Food\n        </button>\n        <button\n          className={ selectedCategory === 'Drink' ? 'selected' : 'filters__btn' }\n          id=\"Drink\"\n          type=\"button\"\n          data-testid=\"filter-by-drink-btn\"\n          onClick={ handleFilter }\n        >\n          Drink\n        </button>\n      </div>\n      <ul className=\"recipe-list\">\n        { renderFavorites && renderFavorites.map((recipe, index) => {\n          if (recipe.type === 'comida') {\n            return (\n              <li key={ recipe.name }>\n                <FavoriteCard\n                  type=\"comidas\"\n                  recipe={ recipe }\n                  index={ index }\n                  topText={ `${recipe.area} - ${recipe.category}` }\n                  handleFavorite={ handleFavorite }\n                  handleShare={ handleShare }\n                  isCopied={ isCopied }\n                />\n              </li>\n            );\n          }\n          return (\n            <li key={ recipe.name }>\n              <FavoriteCard\n                type=\"bebidas\"\n                recipe={ recipe }\n                index={ index }\n                topText={ recipe.alcoholicOrNot }\n                handleFavorite={ handleFavorite }\n                handleShare={ handleShare }\n                isCopied={ isCopied }\n              />\n            </li>\n          );\n        }) }\n      </ul>\n\n    </div>\n  );\n}\n\nexport default FavoriteRecipes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}